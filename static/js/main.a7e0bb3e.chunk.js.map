{"version":3,"sources":["components/header/Header.tsx","components/player/constants.ts","components/player/PlayerService.ts","components/player/Player.tsx","components/player/PlayerControls/PlayerControls.tsx","components/player/MainPlayer/MainPlayer.tsx","App.tsx","index.tsx"],"names":["Header","className","target","href","rel","icon","mixcloudIcon","width","color","facebookIcon","vkIcon","mailRu","instagramIcon","telegramIcon","googlePlay","bxSearch","DEFAULT_PLAYER_STATE","playing","muted","volume","playerService","state","subject","this","Subject","onNext","subscribe","data","isPlaying","next","volumeLevel","isMuted","Player","subscription","subscribeOnPlayerStateChange","setState","unsubscribe","url","config","file","forceAudio","Component","PauseIcon","pauseIcon","height","PlayIcon","playIcon","FullVolumeIcon","bxsVolumeFull","MuteVolumeIcon","bxsVolumeMute","PlayerControls","useState","setPlayingMode","setVolumeMode","onClick","ReactSlider","thumbClassName","trackClassName","defaultValue","onChange","value","changeVolume","MainPlayer","trackName","loadTrackName","setInterval","bind","fetch","response","json","icestats","source","title","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a7e0bb3e.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Icon} from '@iconify/react';\r\nimport mixcloudIcon from '@iconify/icons-cib/mixcloud';\r\nimport facebookIcon from '@iconify/icons-cib/facebook';\r\nimport vkIcon from '@iconify/icons-cib/vk';\r\nimport mailRu from '@iconify/icons-cib/mail-ru';\r\nimport instagramIcon from '@iconify/icons-cib/instagram';\r\nimport telegramIcon from '@iconify/icons-cib/telegram';\r\nimport googlePlay from '@iconify/icons-cib/google-play';\r\nimport bxSearch from '@iconify/icons-bx/bx-search';\r\nimport './Header.css'\r\n\r\n\r\nfunction Header() {\r\n    return (\r\n      <header className='header header-container'>\r\n        <p className=\"logo-text\">RADIO PLATO</p>\r\n        <div className=\"social-container\">\r\n            <div className='social-icons'>\r\n                <a target=\"_blank\" href=\"https://www.mixcloud.com/radioplato/\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={mixcloudIcon} width='1.7em' color='white'/></a>\r\n                <a target=\"_blank\" href=\"https://www.facebook.com/radioplato.by/\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={facebookIcon} width='1.5em' color='white'/></a>\r\n                <a target=\"_blank\" href=\"https://vk.com/radioplato\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={vkIcon} width='1.5em' color='white'/></a>\r\n                <a target=\"_blank\" href=\"mailto:hey@radioplato.by\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={mailRu} width='1.5em' color='white'/></a>\r\n                <a target=\"_blank\" href=\"https://www.instagram.com/radio_plato/\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={instagramIcon} width='1.5em' color='white'/></a>\r\n                <a target=\"_blank\" href=\"https://t.me/radioplato\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={telegramIcon} width='1.5em' color='white'/></a>\r\n                <a target=\"_blank\" href=\"https://play.google.com/store/apps/details?id=com.radioplato\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={googlePlay} width='1.5em' color='white'/></a>\r\n            </div>\r\n            <p className=\"donate\">DONATE</p>\r\n            <div className='search-icon'>\r\n                <Icon icon={bxSearch} width='1.8em' color='white'/>\r\n            </div>\r\n        </div>\r\n      </header>\r\n    )\r\n  }\r\n  \r\n  export default Header","import { PlayerState } from \"./interfaces\";\r\n\r\nexport const STREAM_URL = \"https://radioplato.radioca.st/stream\";\r\nexport const DATA_URL = \"https://radioplato.radioca.st/status-json.xsl\";\r\n\r\nexport const DATA_REQUEST_INTERVAL = 15000;\r\n\r\nexport const ONAIR = \"onair\";\r\n\r\nexport const DEFAULT_PLAYER_STATE: PlayerState = {\r\n    playing: false,\r\n    muted: false,\r\n    volume: 1\r\n};\r\n","import { Subject } from 'rxjs'\r\n\r\nimport { PlayerState } from \"./interfaces\";\r\nimport { DEFAULT_PLAYER_STATE } from './constants';\r\n\r\nclass PlayerService {\r\n    private state: PlayerState;\r\n    private subject: Subject<PlayerState>;\r\n\r\n    constructor (state: PlayerState) {\r\n        this.state = state;\r\n        this.subject = new Subject();\r\n    }\r\n\r\n    set playing (isPlaying: boolean) {\r\n        this.state.playing = isPlaying;\r\n        this.subject.next(this.state);\r\n    }\r\n\r\n    get playing () {\r\n        return this.state.playing;\r\n    }\r\n\r\n    set volume (volumeLevel: number) {\r\n        this.state.volume = volumeLevel;\r\n        this.subject.next(this.state);\r\n    }\r\n\r\n    set muted (isMuted: boolean) {\r\n        this.state.muted = isMuted;\r\n        this.subject.next(this.state);\r\n    }\r\n\r\n    get muted () {\r\n        return this.state.muted;\r\n    }\r\n\r\n    subscribe (onNext: Function) {\r\n        return this.subject.subscribe(data => onNext(data));\r\n    }\r\n}\r\n\r\nconst playerService = new PlayerService(DEFAULT_PLAYER_STATE)\r\n\r\nexport { playerService };","import React, { Component } from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { playerService } from './PlayerService';\r\nimport { PlayerState } from './interfaces';\r\nimport { DEFAULT_PLAYER_STATE, STREAM_URL } from './constants';\r\n\r\nimport './Player.css';\r\n\r\nexport class Player extends Component {\r\n    state = DEFAULT_PLAYER_STATE;\r\n    subscription: Subscription | null = null;\r\n    \r\n    componentDidMount () {\r\n        this.subscribeOnPlayerStateChange();\r\n    }\r\n\r\n    subscribeOnPlayerStateChange () {\r\n        this.subscription = playerService.subscribe((data: PlayerState) => this.setState(data));\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.subscription?.unsubscribe();\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            playing,\r\n            muted,\r\n            volume\r\n        } = this.state;\r\n\r\n        return (\r\n            <div className=\"audio\">\r\n                <ReactPlayer\r\n                    url={ STREAM_URL }\r\n                    playing={ playing }\r\n                    muted={ muted }\r\n                    volume={ volume }\r\n                    config={{\r\n                        file: {\r\n                            forceAudio: true\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Player;","import React, { useState } from 'react';\r\n\r\nimport ReactSlider from 'react-slider';\r\nimport { Icon } from '@iconify/react';\r\nimport playIcon from '@iconify/icons-el/play';\r\nimport pauseIcon from '@iconify/icons-el/pause';\r\nimport bxsVolumeFull from '@iconify/icons-bx/bxs-volume-full';\r\nimport bxsVolumeMute from '@iconify/icons-bx/bxs-volume-mute';\r\n\r\nimport { playerService } from '../PlayerService';\r\n\r\nimport './PlayerControls.css';\r\n\r\nconst PauseIcon = <Icon icon={ pauseIcon } width={ 35 } height={ 35 }/>;\r\nconst PlayIcon = <Icon icon={ playIcon } width={ 35 } height={ 35 }/>;\r\nconst FullVolumeIcon = <Icon icon={ bxsVolumeFull } width={ 16 } height={ 16 } color=\"#ffffff\"/>;\r\nconst MuteVolumeIcon = <Icon icon={ bxsVolumeMute } width={ 16 } height={ 16 } color=\"#ffffff\"/>;\r\n\r\nfunction PlayerControls() {\r\n    const [ playing, setPlayingMode ] = useState(playerService.playing);\r\n    const [ muted, setVolumeMode ] = useState(playerService.muted);\r\n\r\n    const togglePlayingMode = () => {\r\n        playerService.playing = !playerService.playing;\r\n        setPlayingMode(playerService.playing);\r\n    }\r\n\r\n    const toggleVolumeMode = () => {\r\n        playerService.muted = !playerService.muted;\r\n        setVolumeMode(playerService.muted);\r\n    }\r\n\r\n    const changeVolume = (value: any) => {\r\n        playerService.volume = value / 100;\r\n    }\r\n\r\n    return (\r\n        <div className=\"controls-container\">\r\n            <button \r\n                className=\"control-button\"\r\n                onClick={ togglePlayingMode }\r\n            >\r\n                { playing ? PauseIcon : PlayIcon }\r\n            </button>\r\n            <div className=\"volume-controls\">\r\n                <button \r\n                    className=\"volume-mode-button\"\r\n                    onClick={ toggleVolumeMode }\r\n                >\r\n                    { muted ? FullVolumeIcon : MuteVolumeIcon }\r\n                </button>\r\n                <ReactSlider\r\n                    className=\"horizontal-slider\"\r\n                    thumbClassName=\"thumb\"\r\n                    trackClassName=\"track\"\r\n                    defaultValue={ 100 }\r\n                    onChange={ value => changeVolume(value)}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PlayerControls;","import React, { Component } from 'react';\r\n\r\nimport PlayerControls from '../PlayerControls/PlayerControls';\r\nimport { DATA_URL, DATA_REQUEST_INTERVAL, ONAIR } from '../constants';\r\n\r\nimport './MainPlayer.css';\r\n\r\nexport class MainPlayer extends Component {\r\n    state = {\r\n        trackName: \"\"\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.loadTrackName()\r\n        setInterval(this.loadTrackName.bind(this), DATA_REQUEST_INTERVAL);\r\n    }\r\n\r\n    async loadTrackName () {\r\n        const response = await fetch(DATA_URL);\r\n        const data = await response.json();\r\n        const trackName = data.icestats.source[0].title;\r\n\r\n        this.setState({\r\n            trackName\r\n        })\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            trackName\r\n        } = this.state;\r\n\r\n        return (\r\n            <div className=\"main-player\">\r\n                <PlayerControls />\r\n                <p className=\"onair\">{ ONAIR }</p>\r\n                <p className=\"track-title\">{ trackName }</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MainPlayer;\r\n","import React from 'react';\r\nimport Header from './components/header/Header';\r\nimport Player from './components/player/Player';\r\nimport MainPlayer from './components/player/MainPlayer/MainPlayer';\r\n\r\nimport './App.css';\r\n\r\nfunction App() {\r\n    return (\r\n        <>\r\n            <Header />\r\n            <MainPlayer />\r\n            <Player />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}