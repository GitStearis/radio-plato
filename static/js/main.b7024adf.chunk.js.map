{"version":3,"sources":["components/menu/Menu.tsx","components/menu/menu-button/MenuButton.tsx","components/shared/interfaces.ts","components/shared/SocialLinksComponent/SocialLinksComponent.tsx","components/shared/Player/PlayerService.ts","components/shared/Player/constants.ts","components/shared/enums.ts","components/shared/Player/PlayerControls/PlayButton/PlayButton.tsx","components/shared/Player/PlayerControls/VolumeControls/VolumeControls.tsx","components/shared/Player/PlayerComponent/PlayerComponent.tsx","components/header/Header.tsx","components/shared/wrappers/seo/Seo.tsx","components/shared/schedule/enums.ts","components/gallery/GalleryService.ts","components/shared/schedule/ScheduleService.ts","components/gallery/GalleryComponent.tsx","components/news/NewsCardComponent/NewsCardComponent.tsx","components/news/constants.ts","components/advertisement/AdService.ts","components/shared/constants.ts","components/news/NewsListComponent.tsx","components/shared/schedule/ScheduleShowline.tsx","components/shared/schedule/ScheduleComponent.tsx","components/shared/wrappers/scrollable/Scrollable.tsx","components/start-page/StartPageComponent.tsx","components/shows/ShowCardComponent/ShowCardComponent.tsx","components/shows/ShowListComponent.tsx","components/shows/ShowEpisodesComponent/ShowEpisodesComponent.tsx","components/shows/ShowComponent/ShowComponent.tsx","components/advertisement/AdComponent/AdComponent.tsx","components/news/News/NewsComponent.tsx","components/about/About.tsx","components/donate/Donate.tsx","components/content/Content.tsx","components/main/Main.tsx","components/shared/Player/Player.tsx","App.tsx","index.tsx"],"names":["PAGES","Menu","menuRef","wrapperRef","toggleMenu","device","isMobileOnly","className","ref","onClick","map","title","route","toLowerCase","key","to","buildMenuItem","MenuButton","Socials","useState","isOpened","changeMenuStatus","React","createRef","bodyOverflow","current","classList","toggle","document","body","style","overflow","icon","menuIcon","color","width","height","SOCIAL_ICONS","Map","Mixcloud","mixcloudIcon","Spotify","spotifyIcon","Itunes","itunesIcon","Castbox","castboxIcon","Facebook","facebookIcon","Vk","vkIcon","Email","mailRu","Instagram","instagramIcon","Telegram","telegramIcon","SocialLinksComponent","StorageKey","socialLinks","linkElements","Object","entries","entry","service","href","Date","getTime","get","target","aria-label","rel","buildSocialLink","DEFAULT_PLAYER_STATE","playing","muted","volume","PlayerTypes","NewsListTypes","playerService","state","value","playerState","track","playerStateSubject","trackNameSubject","connection","WebSocket","process","this","Subject","localStorage","getItem","Volume","parseFloat","onmessage","event","onMessage","data","JSON","parse","updateTrackName","now_playing","song","text","onNext","subscribe","name","next","isPlaying","volumeLevel","setItem","toString","isMuted","PlayButton","playerType","setPlayingMode","renderIcon","size","Main","pauseIcon","playIcon","FullVolumeIcon","bxsVolumeFull","MuteVolumeIcon","bxsVolumeMute","VolumeControls","setVolumeMode","ReactSlider","thumbClassName","trackClassName","defaultValue","Math","trunc","sliderDefaultValue","onChange","changeVolume","PlayerComponent","trackName","subscription","subscribeOnPlayerStateChange","setState","subscribeOnTrackNameChanges","props","isMainPlayer","renderMainPlayer","renderHeaderPlayer","renderPlayer","PureComponent","HEADER_SOCIAL_LINKS","mixcloud","facebook","vk","email","instagram","telegram","googlePlay","Header","exact","path","render","Seo","meta","description","slice","property","content","thumbnail","IndexesOfDay","galleryService","indexGallery","gallerySubject","fetchIndexGallery","setInterval","bind","fetch","then","response","json","parseIndexGallery","updateIndexGallery","dto","photoExhibition","PhotoExhibition","photoExhibitionAuthor","PhotoExhibitionAuthor","photoExhibitionDescription","PhotoExhibitionDescription","photoExhibitionLink","PhotoExhibitionLink","photoExhibitionMedia","PhotoExhibitionMedia","imageDto","mapImageDto","photoExhibitionTitle","PhotoExhibitionTitle","regularGallery","RegularGallery","video","Video","videoEmbedCode","VideoEmbedCode","alternativeText","caption","url","gallery","PeriodicityTypes","indexByDayName","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","scheduleService","_schedule","_currentShow","scheduleSubject","currentShowSubject","fetchSchedules","updateCurrentShow","weekday","moment","isoWeekday","currentDate","toISOString","substr","schedule","find","showline","type","isBetween","startTime","start","endTime","end","concat","datum","parseScheduleLine","scheduleShows","organizeSchedule","OnAirDateTime","onAirDateTime","weekdays","dayIndex","undefined","push","Title","Description","Type","hide","Hide","link","Link","startDate","StartDate","StartTime","endDate","EndDate","EndTime","periodicity","Periodicity","image","ShowImg","day","forEach","show","shouldShowBeOnAir","sort","sortShowsByDate","first","second","showStartDate","dateOfDay","add","weeksPassed","week","Daily","Weekly","includes","BiWeekly","EveryThirdWeek","SingleTime","startOf","isSame","GalleryComponent","subscribeOnGalleryChange","subscribeOnGalleryChanges","unsubscribe","showArrows","showStatus","showThumbs","showIndicators","autoPlay","infiniteLoop","interval","photo","src","alt","currentShow","graphicContentSelection","Component","LinkElement","newsCard","children","slug","category","TagElement","tag","NewsCardComponent","AdPlacements","excerpt","newsCover","loading","adService","_advertisements","advertisementsSubject","newsCardAdSubject","newsPostAdSubject","fetchAdvertisements","parseAdvertisements","advertisements","updateAdvertisements","ad","placement","isBefore","isActive","AdActive","AdEnd","AdImage","AdLink","AdPlacement","AdStart","AdText","AdTitle","ads","getSpecificAdvertisementByType","NewsList","NewsPost","BASIC_SEO_IMG","NewsListComponent","advertisement","newsCards","page","handleScroll","scrollHeight","scrollTop","fetchNews","newsDto","Excerpt","Category","PostCover","Slug","publishDate","publish_at","diff","length","cards","sortCardsByDate","filter","toUpperCase","parseNewsCard","handleResponse","adNewsCard","advertisementToNewsCard","onScroll","Full","renderFullNewsList","renderSimpleNewsList","subscribeOnAdvertisementChange","subscribeOnNewsCardAdUpdate","renderNewsCards","ScheduleShowline","showlineWrapper","DAYS_OF_WEEK","ScheduleComponent","selectedDay","scheduleShowlineBuilder","selectDay","renderButtons","index","renderDailySchedule","playlistShow","subscribeOnScheduleChange","subscribeOnScheduleChanges","SchedulePageComponent","withSeo","StartPageComponent","Simple","ShowCardComponent","showCard","showCover","ShowListComponent","showCards","showDto","ShowCover","weight","Weight","parseShowCard","shows","a","b","fetchShows","renderShowCards","ShowEpisodesComponent","showEpisodes","pictures","date","created_time","playlistDto","parseShowEpisode","playlist","parseShowEpisodes","reverse","episode","split","join","episodes","renderShowEpisode","fetchPlaylist","renderShowEpisodes","ShowComponent","showLinks","ShowLink","spotify","itunes","castbox","parseShow","fetchShow","previousProps","componentDidMount","imageSrc","random","AdComponent","NewsComponent","news","articles","Content","wordsBy","WordsBy","photosBy","PhotosBy","parseNews","fetchCurrentArticle","fetchLastArticles","subscribeOnNewsPostAdUpdate","imageStyle","backgroundPosition","backgroundRepeat","backgroundAttachment","backgroundSize","backgroundImage","format","source","escapeHtml","renderers","article","AboutComponent","about","aboutDto","aboutCover","Image","parseAbout","fetchAbout","DonateComponent","donate","donateDto","donateCover","parseDonate","fetchDonate","component","routerProps","match","params","Player","subscribeOnPlayerStateChanges","querySelector","config","file","forceAudio","Components","App","basename","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b7024adf.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\nimport './Menu.css'\r\n\r\n\r\nconst PAGES = [\r\n    'News',\r\n    'Shows',\r\n    'Schedule',\r\n    'About'\r\n];\r\n\r\ninterface MenuParameters {\r\n    menuRef: React.RefObject<HTMLDivElement>;\r\n    wrapperRef: React.RefObject<HTMLDivElement>;\r\n    toggleMenu: () => void;\r\n}\r\n\r\nfunction Menu({ menuRef, wrapperRef, toggleMenu }: MenuParameters) {\r\n    const device = isMobileOnly ? 'mobile' : 'desktop';\r\n\r\n    const buildMenuItem = (title: string) => {\r\n        const route = `/${ title.toLowerCase() }`;\r\n\r\n        return (\r\n            <li className='menu-item' key={ title }>\r\n                <Link to={ route } onClick={ toggleMenu }>{ title }</Link>\r\n            </li>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={`wrapper ${ device }`} ref={ wrapperRef } onClick={ toggleMenu } />\r\n            <nav ref={ menuRef } className={ device }>\r\n                <div className='menu-button-aside white' onClick={ toggleMenu }>\r\n                    <p className='label close-button'>CLOSE</p>\r\n                </div>\r\n                <div className='menu-items-container'>\r\n                    <ul className='menu-items'>\r\n                        { PAGES.map(title => buildMenuItem(title)) }\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        </>     \r\n    );\r\n  }\r\n  \r\n  export default Menu","import React, { useState } from 'react'\r\n\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\nimport { Icon } from '@iconify/react';\r\nimport menuIcon from '@iconify/icons-gridicons/menu';\r\n\r\nimport Menu from '../Menu';\r\n\r\nimport './MenuButton.css'\r\n\r\n\r\nconst MENU = 'menu';\r\n\r\nfunction MenuButton() {\r\n    const [ isOpened, changeMenuStatus ] = useState(true);\r\n\r\n    const menuRef = React.createRef<HTMLDivElement>()\r\n    const wrapperRef = React.createRef<HTMLDivElement>()\r\n    \r\n    const toggleMenu = () => {\r\n        const bodyOverflow = isOpened ? 'hidden' : 'unset';\r\n        \r\n        wrapperRef.current?.classList.toggle('wrapper-show');\r\n        menuRef.current?.classList.toggle('menu-open');\r\n        document.body.style.overflow = bodyOverflow;\r\n        changeMenuStatus(!isOpened);\r\n    }\r\n\r\n    const renderAsideButton = () => {\r\n        return (\r\n            <div className='menu-button-aside black' onClick={ toggleMenu }>\r\n                <p className='label open-button'>{ MENU }</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderHeaderButton = () => {\r\n        return (\r\n            <div className='menu-button-header' onClick={ toggleMenu }>\r\n                <Icon icon={ menuIcon } color='white' width={ 40 } height={ 40 }/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Menu menuRef={ menuRef } wrapperRef={ wrapperRef } toggleMenu={ toggleMenu }/>\r\n            { isMobileOnly ? renderHeaderButton() : renderAsideButton() }\r\n        </>\r\n    );\r\n  }\r\n  \r\n  export default MenuButton","export enum Socials {\r\n    Castbox = 'castbox',\r\n    Itunes = 'itunes',\r\n    Mixcloud = 'mixcloud',\r\n    Spotify = 'spotify',\r\n    Facebook = 'facebook',\r\n    Vk = 'vk',\r\n    Email = 'email',\r\n    Instagram = 'instagram',\r\n    Telegram = 'telegram',\r\n    GooglePlay = 'googlePlay',  \r\n}\r\n\r\nexport type SocialLinks = {\r\n    [key in Socials]?: string;\r\n}\r\n\r\nexport interface StrapiObjectDto {\r\n    createdAt: string;\r\n    id: string;\r\n    updatedAt: string;\r\n    __v: number;\r\n    _id: number;\r\n}\r\n\r\nexport interface ImageDto {\r\n    ext: string;\r\n    hash: string;\r\n    height: number;\r\n    mime: string;\r\n    size: number;\r\n    url: string;\r\n    width: number;\r\n}\r\n\r\nexport interface FormatsDto {\r\n    thumbnail?: ImageDto;\r\n}\r\n\r\nexport interface CoverDto extends StrapiObjectDto, ImageDto {\r\n    alternativeText: string;\r\n    caption: string;\r\n    formats: FormatsDto;\r\n    name: string;\r\n    provider: string;\r\n    related: string[];\r\n}\r\n\r\nexport interface SimpleImage {\r\n    alternativeText?: string;\r\n    caption?: string;\r\n    url?: string;\r\n}\r\n","import React from 'react'\r\n\r\nimport { Icon } from '@iconify/react';\r\nimport mixcloudIcon from '@iconify/icons-cib/mixcloud';\r\nimport spotifyIcon from '@iconify/icons-cib/spotify';\r\nimport itunesIcon from '@iconify/icons-ps/itunes';\r\nimport castboxIcon from '@iconify/icons-simple-icons/castbox';\r\nimport facebookIcon from '@iconify/icons-cib/facebook';\r\nimport vkIcon from '@iconify/icons-cib/vk';\r\nimport mailRu from '@iconify/icons-cib/mail-ru';\r\nimport instagramIcon from '@iconify/icons-cib/instagram';\r\nimport telegramIcon from '@iconify/icons-cib/telegram';\r\n\r\nimport { SocialLinks, Socials } from '../interfaces';\r\n\r\nimport './SocialLinksComponent.css'\r\n\r\nconst SOCIAL_ICONS = new Map<string, object>([\r\n    [ Socials.Mixcloud, mixcloudIcon ],\r\n    [ Socials.Spotify, spotifyIcon ],\r\n    [ Socials.Itunes, itunesIcon ],\r\n    [ Socials.Castbox, castboxIcon ],\r\n    [ Socials.Facebook, facebookIcon ],\r\n    [ Socials.Vk, vkIcon ],\r\n    [ Socials.Email, mailRu ],\r\n    [ Socials.Instagram, instagramIcon ],\r\n    [ Socials.Telegram, telegramIcon ],\r\n]);\r\n\r\ninterface SocialLinksProperties {\r\n    socialLinks: SocialLinks;\r\n}\r\n\r\nfunction buildSocialLink (service: string, href: string | undefined) {\r\n    const key = `${ service }-${ new Date().getTime() }`;\r\n    const icon = SOCIAL_ICONS.get(service);\r\n\r\n    return href && icon ? (\r\n        <a  className='social-link'\r\n            target='_blank'\r\n            key={ key }\r\n            href={ href }\r\n            title={ `A link to ${ service }` }\r\n            aria-label={ `A link to ${ service }` }\r\n            rel='noopener noreferrer'\r\n        >\r\n            <Icon className='social-icon' icon={ icon } width='1.5em' color='white'/>\r\n        </a>\r\n    ) : (null);\r\n}\r\n\r\nfunction SocialLinksComponent({ socialLinks }: SocialLinksProperties) {\r\n    const linkElements = Object.entries(socialLinks).map(entry => buildSocialLink(entry[0], entry[1]));\r\n\r\n    return (\r\n        <div className='social-icons'>\r\n            { linkElements }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SocialLinksComponent;","import { Subject } from 'rxjs'\r\n\r\nimport { PlayerState } from './interfaces';\r\nimport { DEFAULT_PLAYER_STATE } from './constants';\r\n\r\n\r\nenum StorageKey {\r\n    Volume = 'volume'\r\n}\r\n\r\nconst parseVolume = (value: string | null): number => value !== null ? parseFloat(value) : 1;\r\n\r\nclass PlayerService {\r\n    private playerState: PlayerState;\r\n    private track = '';\r\n    private playerStateSubject: Subject<PlayerState>;\r\n    private trackNameSubject: Subject<string>;\r\n    private connection = new WebSocket(process.env.REACT_APP_DATA_URL as string);\r\n\r\n    private onMessage (event: MessageEvent) {\r\n        const data = JSON.parse(event.data);\r\n\r\n        this.updateTrackName(data.now_playing.song.text);\r\n    }\r\n\r\n    constructor (state: PlayerState) {\r\n        this.playerState = state;\r\n\r\n        this.playerStateSubject = new Subject();\r\n        this.trackNameSubject = new Subject();\r\n\r\n        this.volume = parseVolume(localStorage.getItem(StorageKey.Volume));\r\n\r\n        this.connection.onmessage = event => this.onMessage(event);\r\n    }\r\n\r\n    set playing (isPlaying: boolean) {\r\n        this.playerState.playing = isPlaying;\r\n        this.playerStateSubject.next(this.playerState);\r\n    }\r\n\r\n    get playing () {\r\n        return this.playerState.playing;\r\n    }\r\n\r\n    set volume (volumeLevel: number) {\r\n        localStorage.setItem(StorageKey.Volume, volumeLevel.toString());\r\n\r\n        this.playerState.volume = volumeLevel;\r\n        this.playerStateSubject.next(this.playerState);\r\n    }\r\n\r\n    get volume () {\r\n        return this.playerState.volume;\r\n    }\r\n\r\n    set muted (isMuted: boolean) {\r\n        this.playerState.muted = isMuted;\r\n        this.playerStateSubject.next(this.playerState);\r\n    }\r\n\r\n    get muted () {\r\n        return this.playerState.muted;\r\n    }\r\n\r\n    get trackName () {\r\n        return this.track;\r\n    }\r\n\r\n    subscribeOnPlayerStateChanges (onNext: Function) {\r\n        return this.playerStateSubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    subscribeOnTrackNameChanges (onNext: Function) {\r\n        return this.trackNameSubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    async updateTrackName (name: string = '') {\r\n        if (name !== this.track) {\r\n            this.track = name;\r\n            this.trackNameSubject.next(this.track);\r\n        }\r\n    }\r\n}\r\n\r\nconst playerService = new PlayerService(DEFAULT_PLAYER_STATE);\r\n\r\nexport { playerService };","import { PlayerState } from './interfaces';\r\n\r\nexport const DEFAULT_PLAYER_STATE: PlayerState = {\r\n    playing: false,\r\n    muted: false,\r\n    volume: 1\r\n};\r\n","export enum PlayerTypes {\r\n    Main = 'main',\r\n    Header = 'header'\r\n};\r\n\r\nexport enum NewsListTypes {\r\n    Full = 'full',\r\n    Simple = 'simple'\r\n};","import React, { useState } from 'react';\r\n\r\nimport { Icon } from '@iconify/react';\r\nimport playIcon from '@iconify/icons-el/play';\r\nimport pauseIcon from '@iconify/icons-el/pause';\r\n\r\nimport { playerService } from '../../PlayerService';\r\nimport { PlayerProps } from '../../interfaces';\r\nimport { PlayerTypes } from '../../../enums';\r\n\r\nimport './PlayButton.css';\r\n\r\n\r\nconst SMALL_ICON = 10;\r\nconst LARGE_ICON = 35;\r\n\r\nfunction PlayButton({ playerType }: PlayerProps) {\r\n    const [ playing, setPlayingMode ] = useState(playerService.playing);\r\n\r\n    const togglePlayingMode = () => {\r\n        playerService.playing = !playerService.playing;\r\n        setPlayingMode(playerService.playing);\r\n    }\r\n\r\n    const isMainPlayer = () => {\r\n        return playerType === PlayerTypes.Main;\r\n    }\r\n\r\n    const renderIcon = (icon: object) => {\r\n        const size = isMainPlayer() ? LARGE_ICON : SMALL_ICON;\r\n\r\n        return <Icon icon={ icon } width={ size } height={ size }/>;\r\n    }\r\n\r\n    return (\r\n        <button \r\n            className='play-button'\r\n            aria-label='Play radio button'\r\n            onClick={ togglePlayingMode }\r\n        >\r\n            { playing ? renderIcon(pauseIcon) : renderIcon(playIcon) }\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default PlayButton;","import React, { useState } from 'react';\r\n\r\nimport ReactSlider from 'react-slider';\r\nimport { Icon } from '@iconify/react';\r\nimport bxsVolumeFull from '@iconify/icons-bx/bxs-volume-full';\r\nimport bxsVolumeMute from '@iconify/icons-bx/bxs-volume-mute';\r\n\r\nimport { playerService } from '../../PlayerService';\r\n\r\nimport './VolumeControls.css';\r\n\r\nconst FullVolumeIcon = <Icon icon={ bxsVolumeFull } width={ 16 } height={ 16 } color='#ffffff'/>;\r\nconst MuteVolumeIcon = <Icon icon={ bxsVolumeMute } width={ 16 } height={ 16 } color='#ffffff'/>;\r\n\r\nfunction VolumeControls() {\r\n    const [ muted, setVolumeMode ] = useState(playerService.muted);\r\n    \r\n    const toggleVolumeMode = () => {\r\n        playerService.muted = !playerService.muted;\r\n        setVolumeMode(playerService.muted);\r\n    }\r\n\r\n    const changeVolume = (value: any) => {\r\n        playerService.muted = false;\r\n        setVolumeMode(playerService.muted);\r\n        playerService.volume = value / 100;\r\n    }\r\n\r\n    const sliderDefaultValue = () => {\r\n        const value = playerService.volume * 100;\r\n        \r\n        return Math.trunc(value);\r\n    }\r\n\r\n    return (\r\n        <div className='volume-controls'>\r\n            <button \r\n                className='volume-mode-button'\r\n                aria-label='Toggle volume button'\r\n                onClick={ toggleVolumeMode }\r\n            >\r\n                { muted ? MuteVolumeIcon : FullVolumeIcon }\r\n            </button>\r\n            <ReactSlider\r\n                className='horizontal-slider'\r\n                thumbClassName='thumb'\r\n                trackClassName='track'\r\n                defaultValue={ sliderDefaultValue() }\r\n                onChange={ value => changeVolume(value)}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default VolumeControls;","import React, { PureComponent } from 'react';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\nimport PlayButton from '../PlayerControls/PlayButton/PlayButton';\r\nimport VolumeControls from '../PlayerControls/VolumeControls/VolumeControls';\r\nimport { playerService } from '../PlayerService';\r\nimport { PlayerProps } from '../interfaces';\r\nimport { PlayerTypes } from '../../enums';\r\n\r\nimport './PlayerComponent.css';\r\n\r\n\r\nconst ONAIR = 'onair';\r\n\r\nexport class PlayerComponent extends PureComponent<PlayerProps> {\r\n    state = {\r\n        trackName: ''\r\n    };\r\n    subscription: Subscription | null = null;\r\n\r\n    get isMainPlayer () {\r\n        return this.props.playerType === PlayerTypes.Main;\r\n    }\r\n\r\n    get className () {\r\n        return `${ this.props.playerType }-player ${ isMobileOnly ? 'mobile' : 'desktop' }`;\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.subscribeOnPlayerStateChange();\r\n        this.setState({\r\n            trackName: playerService.trackName\r\n        });\r\n    }\r\n\r\n    subscribeOnPlayerStateChange () {\r\n        this.subscription = playerService.subscribeOnTrackNameChanges(\r\n            (trackName: string) => this.setState({ trackName })\r\n        );\r\n    }\r\n    \r\n    renderMainPlayer (trackName: string) {\r\n        return (\r\n            <>\r\n                <div className='controls-container'>\r\n                    <PlayButton playerType={ this.props.playerType }/>\r\n                    <VolumeControls />\r\n                </div>\r\n                <p className='onair'>{ ONAIR }</p>\r\n                <p className='track-title'>{ trackName }</p>\r\n            </>\r\n        );\r\n    }\r\n\r\n    renderHeaderPlayer (trackName: string) {\r\n        return (\r\n            <>\r\n                <PlayButton playerType={ this.props.playerType }/>\r\n                <div className='track-title'>\r\n                    <p>{ trackName }</p>\r\n                </div>\r\n                <VolumeControls />\r\n            </>\r\n        );\r\n    }\r\n\r\n    renderPlayer () {\r\n        const {\r\n            trackName\r\n        } = this.state;\r\n\r\n        return this.isMainPlayer ?\r\n            this.renderMainPlayer(trackName) :\r\n            this.renderHeaderPlayer(trackName);\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className={ this.className }>\r\n                { this.renderPlayer() }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PlayerComponent;\r\n","import React from 'react'\r\n\r\nimport {\r\n  Link,\r\n  Switch,\r\n  Route\r\n} from 'react-router-dom';\r\n\r\nimport { BrowserView, isMobileOnly } from 'react-device-detect';\r\n\r\nimport MenuButton from '../menu/menu-button/MenuButton';\r\nimport SocialLinksComponent from '../shared/SocialLinksComponent/SocialLinksComponent';\r\nimport PlayerComponent from '../shared/Player/PlayerComponent/PlayerComponent';\r\nimport { SocialLinks } from '../shared/interfaces';\r\nimport { PlayerTypes } from '../shared/enums';\r\n\r\nimport './Header.css'\r\nimport Icon from '@iconify/react';\r\nimport googlePlay from '@iconify/icons-cib/google-play';\r\n\r\n\r\nconst RADIO_PLATO = 'Radio Plato';\r\nconst DONATE = 'Donate';\r\nconst ANDROID_APP = 'Android App';\r\n\r\nconst HEADER_SOCIAL_LINKS: SocialLinks = {\r\n    mixcloud: 'https://www.mixcloud.com/radioplato/',\r\n    facebook: 'https://www.facebook.com/radioplato.by/',\r\n    vk: 'https://vk.com/radioplato',\r\n    email: 'mailto:hey@radioplato.by',\r\n    instagram: 'https://www.instagram.com/radio_plato/',\r\n    telegram: 'https://t.me/radioplato',\r\n    googlePlay: 'https://play.google.com/store/apps/details?id=com.radioplato'\r\n}\r\n\r\nfunction Header() {\r\n    const className = `header-container ${ isMobileOnly ? 'mobile' : 'desktop' }`;\r\n\r\n    return (\r\n        <header className={ className }>\r\n            { isMobileOnly && <MenuButton /> }\r\n            <Link to='/' className='logo-text'>{ RADIO_PLATO }</Link>\r\n            <BrowserView>\r\n                <div className='social-container'>\r\n                    <Switch>\r\n                        <Route exact path='/' render={\r\n                            props => (<SocialLinksComponent { ...props } socialLinks={ HEADER_SOCIAL_LINKS }/>)\r\n                        }/>\r\n                        <Route path='/' render={\r\n                            props => (<PlayerComponent { ...props } playerType={ PlayerTypes.Header }/>)\r\n                        }/>\r\n                    </Switch>\r\n                    \r\n                    <div className=\"android-link-wrapper\">\r\n                        <a className='android-link'\r\n                            target='_blank'\r\n                            href={ HEADER_SOCIAL_LINKS.googlePlay }\r\n                            title={ `A link to Android App` }\r\n                            aria-label={ `A link to Android App` }\r\n                            rel='noopener noreferrer'\r\n                        >\r\n                            <Icon className='google-play-icon' icon={ googlePlay }/>\r\n                            { ANDROID_APP }\r\n                        </a>\r\n                    </div>\r\n                    \r\n\r\n                    <Link to='/donate' className='donate-link'>{ DONATE }</Link>\r\n                </div>\r\n            </BrowserView>\r\n        </header>\r\n    );\r\n}\r\n  \r\nexport default Header;","import React from 'react';\r\n\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\n\r\nconst DESCRIPTION_LIMIT = 150;\r\n\r\ninterface MetaTagsInformation {\r\n    title?: string;\r\n    thumbnail?: string;\r\n    url?: string;\r\n    description?: string;\r\n}\r\n\r\ninterface SeoProperties {\r\n    meta?: MetaTagsInformation\r\n}\r\n\r\nfunction Seo ({ meta }: SeoProperties) {\r\n  const description = meta?.description && meta.description.slice(0, DESCRIPTION_LIMIT) + '...';\r\n\r\n  return (\r\n    <Helmet>\r\n        <title>{`Radio Plato | ${ meta?.title }`}</title>\r\n        <meta property='og:title' content={ meta?.title } />\r\n        <meta property='og:image' content={ meta?.thumbnail } />\r\n        <meta property='og:description' content={ description } />\r\n        <meta name='description' content={ description } />\r\n    </Helmet>\r\n  )\r\n}\r\n\r\nfunction withSeo (meta: MetaTagsInformation, children: React.ReactNode) {\r\n    return (\r\n        <>\r\n            <Seo meta={ meta }/>\r\n            { children }\r\n        </>\r\n    )\r\n}\r\n\r\nexport { Seo, withSeo };","export enum IndexesOfDay {\r\n    Monday = 0,\r\n    Tuesday,\r\n    Wednesday,\r\n    Thursday,\r\n    Friday,\r\n    Saturday,\r\n    Sunday\r\n};","import { Subject } from 'rxjs';\r\n\r\nimport { IndexGallery, IndexGalleryDto } from './interfaces';\r\nimport { CoverDto, SimpleImage } from '../shared/interfaces';\r\n\r\n\r\nconst GALLERY_REQUEST_INTERVAL = 300000;\r\n\r\nclass GalleryService {\r\n    private indexGallery: IndexGallery | null = null;\r\n    private gallerySubject: Subject<IndexGallery | null>;\r\n\r\n    constructor () {\r\n        this.gallerySubject = new Subject();\r\n\r\n        this.fetchIndexGallery();\r\n        setInterval(this.fetchIndexGallery.bind(this), GALLERY_REQUEST_INTERVAL);\r\n    }\r\n\r\n    get gallery (): IndexGallery | null {\r\n        return this.indexGallery;\r\n    }\r\n\r\n    set gallery (gallery: IndexGallery | null) {\r\n        this.indexGallery = gallery;\r\n        gallery && this.gallerySubject.next(gallery);\r\n    }\r\n\r\n    subscribeOnGalleryChanges (onNext: Function) {\r\n        return this.gallerySubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    async fetchIndexGallery () {\r\n        await fetch(`${ process.env.REACT_APP_BACKEND_URL }/index-gallery`)\r\n            .then(response => response.json())\r\n            .then(data => this.parseIndexGallery(data))\r\n            .then(indexGallery => this.updateIndexGallery(indexGallery));\r\n    }\r\n\r\n    private parseIndexGallery (dto: IndexGalleryDto) {\r\n        return {\r\n            photoExhibition: dto.PhotoExhibition,\r\n            photoExhibitionAuthor: dto.PhotoExhibitionAuthor,\r\n            photoExhibitionDescription: dto.PhotoExhibitionDescription,\r\n            photoExhibitionLink: dto.PhotoExhibitionLink,\r\n            photoExhibitionMedia: dto.PhotoExhibitionMedia.map(imageDto => this.mapImageDto(imageDto)),\r\n            photoExhibitionTitle: dto.PhotoExhibitionTitle,\r\n            regularGallery: dto.RegularGallery.map(imageDto => this.mapImageDto(imageDto)),\r\n            video: dto.Video,\r\n            videoEmbedCode: dto.VideoEmbedCode,\r\n        }\r\n    }\r\n\r\n    private mapImageDto (imageDto: CoverDto): SimpleImage {\r\n        return {\r\n            alternativeText: imageDto.alternativeText,\r\n            caption: imageDto.caption,\r\n            url: imageDto.url\r\n        };\r\n    }\r\n\r\n    private updateIndexGallery (indexGallery: IndexGallery) {\r\n        this.gallery = indexGallery;\r\n    }\r\n}\r\n\r\nconst galleryService = new GalleryService();\r\n\r\nexport default galleryService;","import { Subject } from 'rxjs'\r\nimport moment from 'moment';\r\n\r\nimport { ScheduleShow, ScheduleDto } from './interfaces';\r\nimport { IndexesOfDay } from './enums';\r\n\r\n\r\nconst DATA_REQUEST_INTERVAL = 14400000;\r\nconst CURRENT_SHOW_REFRESH_INTERVAL = 300000;\r\n\r\nenum PeriodicityTypes {\r\n    SingleTime = 'SingleTime',\r\n    Daily = 'Daily',\r\n    Weekly = 'Weekly',\r\n    BiWeekly = 'BiWeekly',\r\n    EveryThirdWeek = 'Every3rdWeek',\r\n    Monthly = 'Monthly'\r\n}\r\n\r\nconst indexByDayName = new Map([\r\n    [ 'Monday', IndexesOfDay.Monday ],\r\n    [ 'Tuesday', IndexesOfDay.Tuesday ],\r\n    [ 'Wednesday', IndexesOfDay.Wednesday ],\r\n    [ 'Thursday', IndexesOfDay.Thursday ],\r\n    [ 'Friday', IndexesOfDay.Friday ],\r\n    [ 'Saturday', IndexesOfDay.Saturday ],\r\n    [ 'Sunday', IndexesOfDay.Sunday ],\r\n]);\r\n\r\nclass ScheduleService {\r\n    private _schedule: ScheduleShow[][] = [ [], [], [], [], [], [], [] ];\r\n    private _currentShow: ScheduleShow | undefined;\r\n    private scheduleSubject: Subject<ScheduleShow[][]>;\r\n    private currentShowSubject: Subject<ScheduleShow>;\r\n\r\n    constructor () {\r\n        this.scheduleSubject = new Subject();\r\n        this.currentShowSubject = new Subject();\r\n\r\n        this.fetchSchedules();\r\n        this.updateCurrentShow();\r\n        setInterval(this.fetchSchedules.bind(this), DATA_REQUEST_INTERVAL);\r\n        setInterval(this.updateCurrentShow.bind(this), CURRENT_SHOW_REFRESH_INTERVAL);\r\n    }\r\n\r\n    set schedule (schedule: ScheduleShow[][]) {\r\n        this._schedule = schedule;\r\n        this.scheduleSubject.next(schedule);\r\n    }\r\n\r\n    get schedule () {\r\n        return this._schedule;\r\n    }\r\n\r\n    get currentShow () {\r\n        return this._currentShow;\r\n    }\r\n\r\n    set currentShow (show: ScheduleShow | undefined) {\r\n        this._currentShow = show;\r\n        this.currentShowSubject.next(show)\r\n    }\r\n\r\n    updateCurrentShow () {\r\n        const weekday = moment().isoWeekday() - 1;\r\n        const currentDate = new Date().toISOString().substr(0, 10);\r\n        const start = (showline: ScheduleShow) => moment(`${ currentDate } ${ showline.startTime }`);\r\n        const end = (showline: ScheduleShow) => moment(`${ currentDate } ${ showline.endTime }`);\r\n\r\n        this._currentShow = this.schedule[weekday].find(showline => {\r\n            return showline.type === 'Show' && moment().isBetween(start(showline), end(showline));\r\n        });\r\n    }\r\n\r\n    async fetchSchedules () {\r\n        await fetch(`${ process.env.REACT_APP_BACKEND_URL }/schedules`)\r\n            .then(response => response.json())\r\n            .then(data => [].concat(...data.map((datum: ScheduleDto) => this.parseScheduleLine(datum))))\r\n            .then(scheduleShows => this.organizeSchedule(scheduleShows));\r\n    }\r\n\r\n    subscribeOnScheduleChanges (onNext: Function) {\r\n        return this.scheduleSubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    subscribeOnCurrentShowChanges (onNext: Function) {\r\n        return this.currentShowSubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    private parseScheduleLine (dto: ScheduleDto): ScheduleShow[] {\r\n        return dto.OnAirDateTime.map(onAirDateTime => {\r\n            const weekdays = [];\r\n\r\n            for (const [ key, value ] of Object.entries(onAirDateTime)) {\r\n                const dayIndex = indexByDayName.get(key);\r\n                \r\n                value && dayIndex !== undefined && weekdays.push(dayIndex);\r\n            }\r\n    \r\n            return {\r\n                title: dto.Title,\r\n                description: dto.Description,\r\n                type: dto.Type,\r\n                hide: dto.Hide,\r\n                link: dto.Link,\r\n                startDate: onAirDateTime.StartDate,\r\n                startTime: onAirDateTime.StartTime,\r\n                endDate: onAirDateTime.EndDate,\r\n                endTime: onAirDateTime.EndTime,\r\n                periodicity: onAirDateTime.Periodicity,\r\n                weekdays,\r\n                image: dto ? {\r\n                    alternativeText: dto.ShowImg?.alternativeText,\r\n                    caption: dto.ShowImg?.caption,\r\n                    url: dto.ShowImg?.url\r\n                } : null\r\n            };\r\n        });\r\n    }\r\n\r\n    private organizeSchedule (scheduleShows: ScheduleShow[]) {\r\n        const schedule: ScheduleShow[][]  = [];\r\n\r\n        for (let day = IndexesOfDay.Monday; day <= IndexesOfDay.Sunday; day++) {\r\n            schedule[day] = [];\r\n\r\n            scheduleShows.forEach(show => {\r\n                this.shouldShowBeOnAir(show, day) && schedule[day].push(show)\r\n            });\r\n\r\n            schedule[day].sort(this.sortShowsByDate);\r\n        }\r\n\r\n        this.schedule = schedule;\r\n    }\r\n\r\n    private sortShowsByDate (first: ScheduleShow, second: ScheduleShow) {\r\n        return +first.startTime.slice(0, 2) - +second.startTime.slice(0, 2);\r\n    }\r\n\r\n    private shouldShowBeOnAir (show: ScheduleShow, day: IndexesOfDay): boolean {\r\n        if (show.hide) {\r\n            return false;\r\n        }\r\n\r\n        const showStartDate = moment(show.startDate);\r\n        const dateOfDay = moment().add(moment().isoWeekday() - day + 1, 'days');\r\n        const weeksPassed = +(moment().week() - showStartDate.week());\r\n\r\n        switch (show.periodicity) {\r\n            case PeriodicityTypes.Daily: \r\n                return show.weekdays.includes(day);\r\n            case PeriodicityTypes.Weekly:\r\n                return show.weekdays.includes(day);\r\n            case PeriodicityTypes.BiWeekly:\r\n                return show.weekdays.includes(day) && weeksPassed % 2 === 0;\r\n            case PeriodicityTypes.EveryThirdWeek:\r\n                return show.weekdays.includes(day) && weeksPassed % 3 === 0;\r\n            case PeriodicityTypes.SingleTime:\r\n                return showStartDate.startOf('day').isSame(dateOfDay.startOf('day'));\r\n            default: return false;\r\n        }\r\n    }\r\n}\r\n\r\nconst scheduleService = new ScheduleService();\r\n\r\nexport { scheduleService };","import React, { Component } from 'react';\r\nimport ReactPlayer from 'react-player'\r\nimport { Subscription } from 'rxjs';\r\nimport { Carousel } from 'react-responsive-carousel';\r\n\r\nimport galleryService from './GalleryService';\r\nimport { IndexGallery } from './interfaces';\r\n\r\nimport { scheduleService } from '../shared/schedule/ScheduleService';\r\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\r\nimport './GalleryComponent.css';\r\n\r\n\r\ninterface GalleryComponentState {\r\n    gallery: IndexGallery | null\r\n}\r\n\r\nclass GalleryComponent extends Component {\r\n    state: GalleryComponentState = { gallery: null };\r\n    subscription: Subscription | null = null;\r\n\r\n    componentDidMount() {\r\n        this.subscribeOnGalleryChange();\r\n        galleryService.fetchIndexGallery();\r\n    }\r\n\r\n    subscribeOnGalleryChange () {\r\n        this.subscription = galleryService.subscribeOnGalleryChanges(\r\n            (gallery: IndexGallery) => this.setState({ gallery })\r\n        );\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.subscription?.unsubscribe();\r\n    }\r\n\r\n    graphicContentSelection () {\r\n        const { gallery } = this.state;\r\n\r\n        if (!gallery) {\r\n            return null;\r\n        }\r\n\r\n        if (gallery?.video) {\r\n            return (\r\n                <ReactPlayer url={ gallery.videoEmbedCode } />\r\n            );\r\n        }\r\n\r\n        if (gallery?.photoExhibition) {\r\n            return (\r\n                <Carousel className='carousel'\r\n                          showArrows={ false }\r\n                          showStatus={ false }\r\n                          showThumbs={ false }\r\n                          showIndicators={ false }\r\n                          autoPlay={ true }\r\n                          infiniteLoop={ true }\r\n                          interval={ 30000 }\r\n                >\r\n                    { gallery.photoExhibitionMedia.map(photo => (\r\n                        <div key={ photo.url }>\r\n                            <img src={ photo.url }\r\n                                 alt={ photo.alternativeText }\r\n                            />\r\n                        </div>\r\n                    ))}\r\n                </Carousel>\r\n            );\r\n        }\r\n\r\n        if (scheduleService.currentShow && scheduleService.currentShow.image) {\r\n            return (\r\n                <img className='gallery-image'\r\n                     src={ scheduleService.currentShow.image.url }\r\n                     alt={ scheduleService.currentShow.image.alternativeText }\r\n                ></img>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Carousel className='carousel'\r\n                      showArrows={ false }\r\n                      showStatus={ false }\r\n                      showThumbs={ false }\r\n                      showIndicators={ false }\r\n                      autoPlay={ true }\r\n                      infiniteLoop={ true }\r\n                      interval={ 30000 }\r\n            >\r\n                { gallery.regularGallery.map(photo => (\r\n                    <div key={ photo.url }>\r\n                        <img src={ photo.url }\r\n                             alt={ photo.alternativeText }\r\n                        />\r\n                    </div>\r\n                ))}\r\n            </Carousel>\r\n        );\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className='visual-container'>\r\n                { this.graphicContentSelection() }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n  \r\nexport default GalleryComponent;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\nimport { NewsCard } from '../interfaces';\r\nimport { AD_CATEGORY } from '../constants';\r\n\r\nimport './NewsCardComponent.css';\r\n\r\n\r\ninterface LinkElementParameters {\r\n    children: React.ReactNode;\r\n    newsCard: NewsCard;\r\n}\r\n\r\ninterface TagElementParameters {\r\n    category: string;\r\n}\r\n\r\ninterface NewsCardParameters {\r\n    newsCard: NewsCard;\r\n    type?: string;\r\n}\r\n\r\nfunction LinkElement({ newsCard, children }: LinkElementParameters) {\r\n    const slug = newsCard.slug;\r\n    const route = `/news/${ newsCard.category.toLowerCase() }/${ slug }`;\r\n\r\n    return slug ?\r\n        <Link to={ route } title={ newsCard.title }>{ children }</Link> :\r\n        <a href={ newsCard.link } title={ newsCard.title } rel='noopener noreferrer' target='_blank'>{ children }</a>;\r\n}\r\n\r\nfunction TagElement({ category }: TagElementParameters) {\r\n    const link = `/news/${ category.toLowerCase() }`;\r\n    const tag = `∙ ${ category } ∙`;\r\n\r\n    return category !== AD_CATEGORY ? <Link to={ link } title={ category } className='news-card-tag'>{ tag }</Link> : <p className='news-card-tag'>{ tag }</p>\r\n}\r\n\r\nfunction NewsCardComponent({ newsCard, type }: NewsCardParameters) {\r\n    const {\r\n        excerpt,\r\n        newsCover,\r\n        title,\r\n        category\r\n    } = newsCard;\r\n    const device = isMobileOnly ? 'mobile' : 'desktop';\r\n\r\n    return (\r\n        <div className={ `news-card ${ type } ${ device }` }>\r\n            <div className='news-card-image'>\r\n                <LinkElement newsCard={ newsCard }>\r\n                    <img src={ newsCover.url } loading='lazy' alt={ newsCover.alternativeText }/>\r\n                </LinkElement>\r\n            </div>\r\n            <div className='news-card-text'>\r\n                <TagElement category={ category } />\r\n                <LinkElement newsCard={ newsCard }>\r\n                    <h2>{ title }</h2>\r\n                    <p className='news-card-excerpt'>{ excerpt }</p>\r\n                </LinkElement>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nexport default NewsCardComponent;","export const AD_CATEGORY = 'Ad';\r\n","import { AdvertisementDto, Advertisement } from './interfaces';\r\nimport { Subject } from 'rxjs/internal/Subject';\r\nimport moment from 'moment';\r\n\r\n\r\nenum AdPlacements {\r\n    NewsList = 'NewsList',\r\n    NewsPost = 'NewsPost'\r\n}\r\n\r\nclass AdService {\r\n    private _advertisements: Advertisement[] = [];\r\n    private advertisementsSubject: Subject<Advertisement[] | null>;\r\n    private newsCardAdSubject: Subject<Advertisement | null>;\r\n    private newsPostAdSubject: Subject<Advertisement | null>;\r\n\r\n    constructor () {\r\n        this.advertisementsSubject = new Subject();\r\n        this.newsCardAdSubject = new Subject();\r\n        this.newsPostAdSubject = new Subject();\r\n\r\n        this.fetchAdvertisements();\r\n    }\r\n\r\n    get advertisements () {\r\n        return this._advertisements;\r\n    }\r\n\r\n    set advertisements (ads: any) {\r\n        this._advertisements = ads;\r\n\r\n        this.advertisementsSubject.next(this.advertisements);\r\n        this.newsCardAdSubject.next(this.getSpecificAdvertisementByType(AdPlacements.NewsList));\r\n        this.newsPostAdSubject.next(this.getSpecificAdvertisementByType(AdPlacements.NewsPost));\r\n    }\r\n\r\n    subscribeOnAdvertisementsChanges (onNext: Function) {\r\n        return this.advertisementsSubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    subscribeOnNewsCardAdUpdate (onNext: Function) {\r\n        return this.newsCardAdSubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    subscribeOnNewsPostAdUpdate (onNext: Function) {\r\n        return this.newsPostAdSubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    async fetchAdvertisements () {\r\n        await fetch(`${ process.env.REACT_APP_BACKEND_URL }/advertisements`)\r\n            .then(response => response.json())\r\n            .then(data => this.parseAdvertisements(data))\r\n            .then(advertisements => this.updateAdvertisements(advertisements));\r\n    }\r\n\r\n    private getSpecificAdvertisementByType (type: string) {\r\n        return this.advertisements.find((ad: Advertisement) => ad.placement === type && moment().isBefore(moment(ad.endDate)));\r\n    }\r\n\r\n    private parseAdvertisements (data: AdvertisementDto[]) {\r\n        return data.map(ad => {\r\n            return {\r\n                isActive: ad.AdActive,\r\n                endDate: ad.AdEnd,\r\n                image: {\r\n                    alternativeText: ad.AdImage.alternativeText,\r\n                    caption: ad.AdImage.caption,\r\n                    url: ad.AdImage.url\r\n                },\r\n                link: ad.AdLink,\r\n                placement: ad.AdPlacement,\r\n                startDate: ad.AdStart,\r\n                text: ad.AdText,\r\n                title: ad.AdTitle\r\n            }\r\n        });\r\n    }\r\n\r\n    private updateAdvertisements (advertisements: any) {\r\n        this.advertisements = advertisements;\r\n    }\r\n}\r\n\r\nconst adService = new AdService();\r\n\r\nexport default adService;","export const BASIC_SEO_IMG = 'https://res.cloudinary.com/radio-plato/image/upload/v1595347571/og_image_plato_0158fb0d85.jpg';","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Subscription } from 'rxjs';\r\nimport moment from 'moment';\r\n\r\nimport NewsCardComponent from './NewsCardComponent/NewsCardComponent';\r\nimport adService from './../advertisement/AdService';\r\n\r\nimport { NewsDto, NewsCard } from './interfaces';\r\nimport { Advertisement } from '../advertisement/interfaces';\r\nimport { NewsListTypes } from '../shared/enums';\r\nimport { AD_CATEGORY } from './constants';\r\nimport { BASIC_SEO_IMG } from '../shared/constants';\r\nimport { Seo } from '../shared/wrappers/seo/Seo'\r\n\r\nimport './NewsListComponent.css';\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\n\r\nconst NEWS_LIMIT = 12;\r\nconst VISIBILITY_LIMIT = 800;\r\nconst NEWS = 'NEWS';\r\nconst NEWS_LIST_SEO_TITLE = 'News'\r\nconst NEWS_LIST_SEO_DESCRIPTION = 'The best place to read about electronic music, both local and global.'\r\n\r\ninterface NewsListComponentProperties {\r\n    type: string;\r\n    category?: string;\r\n}\r\n\r\nexport class NewsListComponent extends Component<NewsListComponentProperties> {\r\n    state = {\r\n        advertisement: null,\r\n        newsCards: [],\r\n        page: 0,\r\n        loading: false,\r\n        end: false\r\n    }\r\n    subscription: Subscription | null = null;\r\n\r\n    parseNewsCard (newsDto: NewsDto): NewsCard {\r\n        return {\r\n            excerpt: newsDto.Excerpt,\r\n            category: newsDto.Category,\r\n            newsCover: {\r\n                alternativeText: newsDto.PostCover.alternativeText,\r\n                caption: newsDto.PostCover.caption,\r\n                url: newsDto.PostCover.url\r\n            },\r\n            slug: newsDto.Slug,\r\n            title: newsDto.Title,\r\n            publishDate: newsDto.publish_at\r\n        };\r\n    }\r\n\r\n    sortCardsByDate (first: NewsCard, second: NewsCard) {\r\n        return moment(second.publishDate).diff(moment(first.publishDate));\r\n    }\r\n\r\n    handleResponse (newsCards: NewsCard[]) {\r\n        if (newsCards && newsCards.length) {\r\n            const cards = [ ...this.state.newsCards, ...newsCards ].sort(this.sortCardsByDate);\r\n\r\n            this.setState({\r\n                newsCards: cards,\r\n                loading: false,\r\n                page: this.state.page + 1\r\n            });\r\n        } else {\r\n            this.setState({ end: true });\r\n        }\r\n    }\r\n\r\n    fetchNews () {\r\n        const { page } = this.state;\r\n        const { category } = this.props;\r\n        const start = page * NEWS_LIMIT;\r\n        const filter = category ? `Category=${ category[0].toUpperCase() + category.slice(1) }&` : '';\r\n\r\n        this.setState({ loading: true });\r\n\r\n        fetch(`${ process.env.REACT_APP_BACKEND_URL }/posts?${ filter }_sort=publish_at:DESC&_start=${ start }&_limit=${ NEWS_LIMIT }`)\r\n            .then(response => response.json())\r\n            .then(data => data.map((datum: NewsDto) => this.parseNewsCard(datum)))\r\n            .then(newsCards => this.handleResponse(newsCards));\r\n    }\r\n\r\n    advertisementToNewsCard (advertisement: Advertisement | null) {\r\n        return advertisement ? {\r\n            excerpt: advertisement ? advertisement.text : '',\r\n            category: AD_CATEGORY,\r\n            newsCover: advertisement ? advertisement.image : {},\r\n            link: advertisement ? advertisement.link : '',\r\n            title: advertisement ? advertisement.title : '',\r\n            publishDate: advertisement ? advertisement.startDate : ''\r\n        } : null;\r\n    }\r\n\r\n    renderSimpleNewsList (newsCards: NewsCard[]) {\r\n        return newsCards.length ? (\r\n            <div className='simple-news'>\r\n                <div className='news-list-title'>\r\n                    <Link to='/news'>\r\n                        <p>{ NEWS }</p>\r\n                    </Link>\r\n                </div>\r\n                { newsCards.slice(0, 3).map(newsCard => (\r\n                    <NewsCardComponent key={ newsCard.slug } newsCard={ newsCard } type='simple' />\r\n                )) }\r\n            </div>\r\n        ) : null;\r\n    }\r\n\r\n    renderFullNewsList (newsCards: NewsCard[], advertisement: Advertisement | null) {\r\n        const className = `news-list ${ isMobileOnly ? 'mobile' : 'desktop' }`;\r\n        const adNewsCard = this.advertisementToNewsCard(advertisement);\r\n\r\n        return newsCards.length ? (\r\n            <div onScroll={ this.handleScroll } className={ className }>\r\n                <Seo meta={{\r\n                        title: NEWS_LIST_SEO_TITLE,\r\n                        description: NEWS_LIST_SEO_DESCRIPTION,\r\n                        thumbnail: BASIC_SEO_IMG\r\n                    }}\r\n                />\r\n                <div className='news-cards'>\r\n                    <div className='latest-news'>\r\n                        <div className='main-news'>\r\n                            <NewsCardComponent key={ newsCards[0].slug } newsCard={ newsCards[0] } type='main' />\r\n                        </div>\r\n                        <div className='fresh-news'>\r\n                            { adNewsCard ? (<NewsCardComponent newsCard={ adNewsCard } type='fresh'/>) : null }\r\n                            { newsCards.slice(1, 5).map(newsCard => (\r\n                                <NewsCardComponent key={ newsCard.slug } newsCard={ newsCard } type='fresh' />\r\n                            )) }\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div className='other-news'>\r\n                        { newsCards.slice(5, newsCards.length).map(newsCard => (\r\n                            <NewsCardComponent key={ newsCard.slug } newsCard={ newsCard } type='other' />\r\n                        )) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        ) : null;\r\n    }\r\n\r\n    renderNewsCards (newsCards: NewsCard[], advertisement: Advertisement | null) {\r\n        const { type } = this.props;\r\n\r\n        return type === NewsListTypes.Full ? this.renderFullNewsList(newsCards, advertisement) : this.renderSimpleNewsList(newsCards);\r\n    }\r\n\r\n    componentDidMount () {\r\n        adService.fetchAdvertisements();\r\n        this.fetchNews();\r\n        this.subscribeOnAdvertisementChange();\r\n    }\r\n\r\n    subscribeOnAdvertisementChange () {\r\n        this.subscription = adService.subscribeOnNewsCardAdUpdate(\r\n            (advertisement: Advertisement) => this.setState({ advertisement })\r\n        );\r\n    }\r\n\r\n    handleScroll = (event: any) => {\r\n        const { loading, end } = this.state;\r\n\r\n        if (event.target.scrollHeight - event.target.scrollTop < VISIBILITY_LIMIT) {\r\n            !loading && !end && this.fetchNews();\r\n        }\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            advertisement,\r\n            newsCards\r\n        } = this.state;\r\n\r\n        return this.renderNewsCards(newsCards, advertisement);\r\n    }\r\n}\r\n  \r\nexport default NewsListComponent;","import React from 'react'\r\n\r\nimport { BrowserView, isMobileOnly } from 'react-device-detect';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { ScheduleShow } from './interfaces'\r\n\r\nimport './ScheduleShowline.css'\r\n\r\n\r\ninterface ScheduleShowlineProperties {\r\n    showline: ScheduleShow\r\n}\r\n\r\nfunction showlineWrapper (showline: ScheduleShow) {\r\n    const {\r\n        title,\r\n        description,\r\n        link,\r\n        startTime,\r\n        endTime\r\n    } = showline;\r\n    const interval = startTime && endTime ? `${ startTime.slice(0, 5) } - ${ endTime.slice(0, 5) }` : '';\r\n    const href = link ? link : null;\r\n    const className = `show-title-container ${ isMobileOnly ? 'mobile' : 'desktop' }`;\r\n\r\n    const content = (\r\n        <div className={ className }>\r\n            <div className='show-date'>\r\n                <p>{ interval }</p>\r\n            </div>\r\n            <div className='show-title'>\r\n                <p>{ title ? title : '' }</p>\r\n            </div>\r\n            <BrowserView>\r\n                <div className='show-desc'>\r\n                    <p>{ description ? description : '' }</p>\r\n                </div>\r\n            </BrowserView>\r\n        </div>\r\n    );\r\n\r\n    return href ? (<Link to={ href }>{ content }</Link>) : (<div>{ content }</div>);\r\n}\r\n\r\nconst ScheduleShowline = ({ showline }: ScheduleShowlineProperties) => showlineWrapper(showline);\r\n\r\nexport default ScheduleShowline ","import React, { Component } from 'react'\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\nimport moment from 'moment';\r\n\r\nimport ScheduleShowline from './ScheduleShowline'\r\n\r\nimport { scheduleService } from './ScheduleService';\r\n\r\nimport { ScheduleShow } from './interfaces';\r\nimport { IndexesOfDay } from './enums';\r\n\r\nimport { withSeo } from '../wrappers/seo/Seo'\r\nimport { withScroll } from '../wrappers/scrollable/Scrollable';\r\nimport { BASIC_SEO_IMG } from '../../shared/constants';\r\nimport './ScheduleComponent.css'\r\n\r\n\r\nconst DAYS_OF_WEEK = [\r\n    'MON',\r\n    'TUE',\r\n    'WED',\r\n    'THU',\r\n    'FRI',\r\n    'SAT',\r\n    'SUN'\r\n];\r\n\r\nconst SCHEDULE = 'SCHEDULE';\r\nconst SCHEDULE_SEO_TITLE = 'Schedule'\r\nconst SCHEDULE_SEO_DESCRIPTION = 'We broadcast 24/7, here is what you will hear.'\r\n\r\nclass ScheduleComponent extends Component {\r\n    subscription: Subscription | null = null;\r\n    state = {\r\n        schedule: scheduleService.schedule,\r\n        selectedDay: moment().isoWeekday() - 1\r\n    };\r\n\r\n    componentDidMount () {\r\n        this.subscribeOnScheduleChange();\r\n    }\r\n\r\n    subscribeOnScheduleChange () {\r\n        this.subscription = scheduleService.subscribeOnScheduleChanges(\r\n            (schedule: ScheduleShow[][]) => this.setState({ schedule })\r\n        );\r\n    }\r\n\r\n    scheduleShowlineBuilder = (showline: ScheduleShow) => {\r\n        return (\r\n            <ScheduleShowline \r\n                showline={ showline }\r\n                key={ `${ showline.title }-${ showline.startDate }-${ showline.endDate }` }\r\n            />\r\n        );\r\n    }\r\n\r\n    selectDay = (day: IndexesOfDay) => {\r\n        this.setState({\r\n            selectedDay: day\r\n        });\r\n    };\r\n\r\n    componentWillUnmount () {\r\n        this.subscription?.unsubscribe();\r\n    }\r\n\r\n    renderButtons = () => {\r\n        const { selectedDay } = this.state;\r\n\r\n        return DAYS_OF_WEEK.map((day, index) => (\r\n            <button className={ `schedule-day-button ${ selectedDay === index ? 'active' : ''}` }\r\n                    onClick={ () => this.selectDay(index) }\r\n                    key={ `${ day.toLowerCase() }-${ index }`}\r\n            >\r\n                { day }\r\n            </button>\r\n        ))\r\n    }\r\n\r\n    renderDailySchedule = () => {\r\n        const {\r\n            schedule,\r\n            selectedDay\r\n        } = this.state;\r\n\r\n        return schedule[selectedDay].length ?\r\n            schedule[selectedDay].map((playlistShow: ScheduleShow) => this.scheduleShowlineBuilder(playlistShow)) :\r\n            [];\r\n    }\r\n\r\n    render () {\r\n        const className = `schedule-container ${ isMobileOnly ? 'mobile' : 'desktop' }`;\r\n\r\n        return (\r\n            <div className={ className }>\r\n                <div className='schedule-headline-container'>        \r\n                    <div className='schedule-title'>\r\n                        <p>{ SCHEDULE }</p>\r\n                    </div>\r\n                    <div className='schedule-day'>\r\n                        { this.renderButtons() }\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    { this.renderDailySchedule() }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst SchedulePageComponent = () => withSeo({\r\n    title: SCHEDULE_SEO_TITLE,\r\n    description: SCHEDULE_SEO_DESCRIPTION,\r\n    thumbnail: BASIC_SEO_IMG\r\n}, withScroll(<ScheduleComponent />));\r\n  \r\nexport { ScheduleComponent, SchedulePageComponent };","import React from 'react';\r\n\r\nimport './Scrollable.css';\r\n\r\n\r\nfunction withScroll (children: React.ReactNode) {\r\n    return (\r\n        <div className='scrollable-container'>\r\n            { children }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { withScroll };","import React from 'react';\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\nimport { Seo } from '../shared/wrappers/seo/Seo'\r\nimport GalleryComponent from '../gallery/GalleryComponent';\r\nimport NewsListComponent from '../news/NewsListComponent';\r\nimport { ScheduleComponent } from '../shared/schedule/ScheduleComponent';\r\nimport { BASIC_SEO_IMG } from '../shared/constants';\r\n\r\nimport { NewsListTypes } from '../shared/enums';\r\n\r\nimport './StartPageComponent.css';\r\n\r\nconst INDEX_SEO_TITLE = 'From Minsk with ❤'\r\nconst INDEX_SEO_DESCRIPTION = 'Independent internet radio based in Minsk (Belarus). We stream classic bangers and authentic world music as well as modern indie and rhythmic DJ edits.'\r\n\r\nfunction StartPageComponent() {\r\n    const device = isMobileOnly ? 'mobile' : 'desktop';\r\n    const className = `start-page-container ${ device }`\r\n\r\n    return (\r\n        <div className={ className }>\r\n                <Seo meta={{\r\n                        title: INDEX_SEO_TITLE,\r\n                        description: INDEX_SEO_DESCRIPTION,\r\n                        thumbnail: BASIC_SEO_IMG\r\n                    }}\r\n                />\r\n            { isMobileOnly ? null : <GalleryComponent /> }\r\n            <NewsListComponent type={ NewsListTypes.Simple }/>\r\n            <ScheduleComponent />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StartPageComponent;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\nimport { ShowCard } from '../interfaces';\r\n\r\nimport './ShowCardComponent.css';\r\n\r\ninterface ShowCardParameters {\r\n    showCard: ShowCard\r\n}\r\n\r\nfunction ShowCardComponent({ showCard }: ShowCardParameters) {\r\n    const {\r\n        excerpt,\r\n        showCover,\r\n        slug,\r\n        title,\r\n    } = showCard;\r\n    const className = `show-card ${ isMobileOnly ? 'mobile' : 'desktop' }`;\r\n    const route = `/shows/${ slug }`;\r\n\r\n    return (\r\n        <Link to={ route } title={ title }>\r\n            <div className={ className }>\r\n                <img src={ showCover.url } loading='lazy' alt={ showCover.alternativeText }/>\r\n                <h2>{ title }</h2>\r\n                <p>{ excerpt }</p>\r\n            </div>    \r\n        </Link>\r\n    );\r\n}\r\n  \r\nexport default ShowCardComponent;","import React, { Component } from 'react';\r\n\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\nimport ShowCardComponent from './ShowCardComponent/ShowCardComponent';\r\n\r\nimport { Seo } from '../shared/wrappers/seo/Seo'\r\nimport { BASIC_SEO_IMG } from '../shared/constants';\r\nimport { ShowDto, ShowCard } from './interfaces';\r\n\r\nimport './ShowListComponent.css';\r\n\r\n\r\nconst SHOW_LIST_SEO_TITLE = 'Shows'\r\nconst SHOW_LIST_SEO_DESCRIPTION = 'Awesome shows from Radio Plato crew'\r\n\r\n\r\nexport class ShowListComponent extends Component {\r\n    state = {\r\n        showCards: []\r\n    }\r\n\r\n    parseShowCard (showDto: ShowDto): ShowCard {\r\n        return {\r\n            excerpt: showDto.Excerpt,\r\n            showCover: {\r\n                alternativeText: showDto.ShowCover.alternativeText,\r\n                caption: showDto.ShowCover.caption,\r\n                url: showDto.ShowCover.url\r\n            },\r\n            slug: showDto.Slug,\r\n            title: showDto.Title,\r\n            weight: showDto.Weight\r\n        };\r\n    }\r\n\r\n    fetchShows () {\r\n        fetch(`${ process.env.REACT_APP_BACKEND_URL }/shows`)\r\n            .then(response => response.json())\r\n            .then(data => data.map((datum: ShowDto) => this.parseShowCard(datum)))\r\n            .then(shows => this.setState({ showCards: shows.sort((a: ShowCard, b: ShowCard) => a.weight - b.weight) }));\r\n    }\r\n\r\n    renderShowCards (showCards: ShowCard[]) {\r\n        return showCards.map(showCard => (<ShowCardComponent key={ showCard.slug } showCard={ showCard }></ShowCardComponent>))\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.fetchShows();\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            showCards\r\n        } = this.state;\r\n        const className = `show-list ${ isMobileOnly ? 'mobile' : 'desktop' }`;\r\n\r\n        return (\r\n            <div className={ className }>\r\n                 <Seo meta={{\r\n                        title: SHOW_LIST_SEO_TITLE,\r\n                        description: SHOW_LIST_SEO_DESCRIPTION,\r\n                        thumbnail: BASIC_SEO_IMG\r\n                    }}\r\n                />\r\n                <h1>Shows</h1>\r\n                <div className='show-cards'>\r\n                    { this.renderShowCards(showCards) }\r\n                </div>\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n  \r\nexport default ShowListComponent;","import React, { Component } from 'react';\r\n\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\nimport './ShowEpisodesComponent.css';\r\nimport { ShowEpisode } from '../interfaces';\r\n\r\n\r\ninterface ShowEpisodesProperties {\r\n    slug: string;\r\n}\r\n\r\nexport class ShowEpisodesComponent extends Component<ShowEpisodesProperties> {\r\n    state = {\r\n        showEpisodes: []\r\n    }\r\n\r\n    parseShowEpisode (datum: any): ShowEpisode {\r\n        return {\r\n            title: datum.name,\r\n            image: datum.pictures['1024wx1024h'],\r\n            url: datum.url,\r\n            date: datum.created_time,\r\n            slug: datum.slug\r\n        }\r\n    }\r\n\r\n    parseShowEpisodes (playlistDto: any): ShowEpisode[] | null {\r\n        if (!playlistDto || !playlistDto.data || !playlistDto.data.length) {\r\n            return null;\r\n        }\r\n        \r\n        return playlistDto.data.map((datum: any) => this.parseShowEpisode(datum));\r\n    }\r\n\r\n    fetchPlaylist () {\r\n        const { slug } = this.props;\r\n        \r\n        fetch(`https://api.mixcloud.com/radioplato/playlists/${ slug }/cloudcasts/`)\r\n            .then(response => response.json())\r\n            .then(playlist => this.parseShowEpisodes(playlist)?.reverse().slice(0, 9))\r\n            .then(showEpisodes => this.setState({ showEpisodes }));\r\n    }\r\n\r\n    renderShowEpisode (episode: ShowEpisode) {\r\n        const key = `${ episode.slug }-${ new Date().getTime() }`;\r\n        const date = new Date(episode.date).toISOString().slice(0,10).split('-').reverse().join('.');\r\n\r\n        return (\r\n            <a key={ key } href={ episode.url } rel='noopener noreferrer' target='_blank'>\r\n                <div className='episode-container'>\r\n                    <img className='episode-image' src={ episode.image } alt={ episode.title }/>\r\n                    <div className='episode-information'>\r\n                        <h3>{ episode.title }</h3>\r\n                    </div>\r\n                    <p>{ date }</p>\r\n                </div>\r\n            </a>\r\n        );\r\n    }\r\n\r\n    renderShowEpisodes (episodes: ShowEpisode[]) {\r\n        return episodes && episodes.length ? (\r\n            <>\r\n                <h2>LATEST EPISODES</h2>\r\n                <div className='episode-cards'>\r\n                    { episodes.map(episode => this.renderShowEpisode(episode)) }\r\n                </div>\r\n            </>\r\n        ) : null;\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.fetchPlaylist();\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            showEpisodes\r\n        } = this.state;\r\n        const className = `episode-list ${ isMobileOnly ? 'mobile' : 'desktop' }`;\r\n\r\n        return (\r\n            <div className={ className }>\r\n                { this.renderShowEpisodes(showEpisodes) }\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n  \r\nexport default ShowEpisodesComponent;","import React, { Component } from 'react';\r\n\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\nimport SocialLinksComponent from '../../shared/SocialLinksComponent/SocialLinksComponent';\r\nimport ShowEpisodesComponent from '../ShowEpisodesComponent/ShowEpisodesComponent';\r\n\r\nimport { Seo } from '../../shared/wrappers/seo/Seo'\r\nimport { ShowDto, Show, ShowCard } from '../interfaces';\r\n\r\nimport './ShowComponent.css';\r\nimport ShowCardComponent from '../ShowCardComponent/ShowCardComponent';\r\n\r\n\r\ninterface ShowComponentProperties {\r\n    slug: string;\r\n}\r\n\r\ninterface ShowComponentState {\r\n    show: Show | null;\r\n    showCards: ShowCard[];\r\n}\r\n\r\nexport class ShowComponent extends Component<ShowComponentProperties> {\r\n    state: ShowComponentState = {\r\n        show: null,\r\n        showCards: []\r\n    }\r\n\r\n    parseShow(showDto: ShowDto): Show | null {\r\n        return showDto ? {\r\n            description: showDto.Description,\r\n            showCover: {\r\n                alternativeText: showDto.ShowCover.alternativeText,\r\n                caption: showDto.ShowCover.caption,\r\n                url: showDto.ShowCover.url\r\n            },\r\n            title: showDto.Title,\r\n            slug: showDto.Slug,\r\n            showLinks: {\r\n                mixcloud: showDto.ShowLink.mixcloud,\r\n                spotify: showDto.ShowLink.spotify,\r\n                itunes: showDto.ShowLink.itunes,\r\n                castbox: showDto.ShowLink.castbox,\r\n                facebook: showDto.ShowLink.facebook,\r\n                vk: showDto.ShowLink.vk,\r\n                instagram: showDto.ShowLink.instagram,\r\n                telegram: showDto.ShowLink.telegram, \r\n            }\r\n        } : null\r\n    }\r\n\r\n    parseShowCard (showDto: ShowDto): ShowCard {\r\n        return {\r\n            excerpt: showDto.Excerpt,\r\n            showCover: {\r\n                alternativeText: showDto.ShowCover.alternativeText,\r\n                caption: showDto.ShowCover.caption,\r\n                url: showDto.ShowCover.url\r\n            },\r\n            slug: showDto.Slug,\r\n            title: showDto.Title,\r\n            weight: showDto.Weight\r\n        };\r\n    }\r\n\r\n    fetchShow () {\r\n        const { slug } = this.props;\r\n\r\n        return fetch(`${ process.env.REACT_APP_BACKEND_URL }/shows?Slug=${ slug }`)\r\n            .then(response => response.json())\r\n            .then((data: ShowDto[]) => this.parseShow(data[0]))\r\n            .then(show => this.setState({ show }));\r\n    }\r\n\r\n    fetchShows () {\r\n        return fetch(`${ process.env.REACT_APP_BACKEND_URL }/shows`)\r\n            .then(response => response.json())\r\n            .then((data: ShowDto[]) => data.map(datum => this.parseShowCard(datum)))\r\n            .then(showCards => this.setState({ showCards }));\r\n    }\r\n    \r\n\r\n    async componentDidMount () {\r\n        await this.fetchShow();\r\n        await this.fetchShows();\r\n    }\r\n\r\n    componentDidUpdate (previousProps: ShowComponentProperties) {\r\n        if (this.props.slug !== previousProps.slug) {\r\n            this.setState({\r\n                show: null,\r\n                showCards: []\r\n            });\r\n            this.componentDidMount();\r\n        }\r\n    }\r\n\r\n    render () {\r\n        const { show, showCards } = this.state;\r\n        const { slug } = this.props;\r\n        const imageSrc = show ? show.showCover.url : '';\r\n        const className = `show ${ isMobileOnly ? 'mobile' : 'desktop' }`;\r\n\r\n        return show ? (\r\n            <article className={ className }>\r\n                <Seo meta={{\r\n                        title: show.title,\r\n                        description: show.description,\r\n                        thumbnail: imageSrc\r\n                    }}\r\n                />\r\n                <div className='show-description'>\r\n                    <div className='information'>\r\n                        <h1>{ show.title }</h1>\r\n                        <p>{ show.description }</p>\r\n                        <SocialLinksComponent socialLinks={ show.showLinks }/>\r\n                    </div>\r\n                    <div className='show-cover'>\r\n                        <img src={ imageSrc } loading='lazy' alt={ show.showCover.alternativeText }/>\r\n                    </div>\r\n                </div>\r\n                <ShowEpisodesComponent slug={ slug } />\r\n                <div className=\"title-container\">\r\n                    <h2 className=\"more-shows-title\">MORE SHOWS</h2>\r\n                </div>\r\n                <div className=\"more-shows\">\r\n                {\r\n                    showCards.filter(showCard => showCard.slug !== this.state.show?.slug)\r\n                        .sort(() => 0.5 - Math.random())\r\n                        .slice(0, 3)\r\n                        .map(showCard => (<ShowCardComponent key={ showCard.slug } showCard={ showCard }></ShowCardComponent>))\r\n                }\r\n                </div>\r\n            </article>\r\n        ) : null;\r\n    }\r\n}\r\n  \r\nexport default ShowComponent;","\r\nimport React from 'react';\r\n\r\nimport { Advertisement } from '../interfaces';\r\n\r\nimport './AdComponent.css';\r\n\r\ninterface AdComponentProperties {\r\n    advertisement: Advertisement | null\r\n}\r\n\r\nfunction AdComponent ({ advertisement }: AdComponentProperties) {\r\n    return (\r\n        <a className='da-container' href={ advertisement?.link } rel='noopener noreferrer' target='_blank'>\r\n            <div className='da-image'>\r\n                <img src={ advertisement?.image.url } alt={ advertisement?.image.alternativeText }/>\r\n            </div>\r\n            <div className='da-text'>\r\n                <h2>\r\n                    { advertisement?.title }\r\n                </h2>\r\n                <p>\r\n                    { advertisement?.text }\r\n                </p>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\nexport default AdComponent;\r\n","import React, { Component } from 'react';\r\nimport { Subscription } from 'rxjs';\r\nimport moment from 'moment';\r\n\r\nimport ReactMarkdown from 'react-markdown'\r\n\r\nimport AdComponent from '../../advertisement/AdComponent/AdComponent';\r\nimport adService from '../../advertisement/AdService';\r\n\r\nimport { Seo } from '../../shared/wrappers/seo/Seo'\r\nimport { Advertisement } from '../../advertisement/interfaces';\r\nimport { NewsDto, News } from '../interfaces';\r\n\r\nimport './NewsComponent.css';\r\nimport { isMobileOnly } from 'react-device-detect';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\ninterface NewsComponentProperties {\r\n    slug: string;\r\n}\r\n\r\ninterface NewsComponentState {\r\n    news: News | null,\r\n    advertisement: Advertisement | null,\r\n    articles: News[]\r\n}\r\n\r\nconst DATE_FORMAT = 'DD.MM.YYYY';\r\n\r\nexport class NewsComponent extends Component<NewsComponentProperties> {\r\n    state: NewsComponentState = {\r\n        news: null,\r\n        advertisement: null,\r\n        articles: []\r\n    };\r\n    subscription: Subscription | null = null;\r\n\r\n    parseNews(newsDto: NewsDto): News | null {\r\n        return newsDto ? {\r\n            title: newsDto.Title,\r\n            content: newsDto.Content,\r\n            category: newsDto.Category,\r\n            wordsBy: newsDto.WordsBy,\r\n            photosBy: newsDto.PhotosBy,\r\n            excerpt:  newsDto.Excerpt,\r\n            slug: newsDto.Slug,\r\n            publishDate: newsDto.publish_at,\r\n            newsCover: {\r\n                alternativeText: newsDto.PostCover.alternativeText,\r\n                caption: newsDto.PostCover.caption,\r\n                url: newsDto.PostCover.url\r\n            }\r\n        } : null\r\n    }\r\n\r\n    fetchCurrentArticle () {\r\n        const { slug } = this.props;\r\n\r\n        return fetch(`${ process.env.REACT_APP_BACKEND_URL }/posts?Slug=${ slug }`)\r\n            .then(response => response.json())\r\n            .then((data: NewsDto[]) => this.parseNews(data[0]))\r\n            .then(news => this.setState({ news }));\r\n    }\r\n\r\n    fetchLastArticles () {\r\n        const category = this.state.news?.category;\r\n        const filter = category ? `Category=${ category[0].toUpperCase() + category.slice(1) }&` : '';\r\n\r\n        return fetch(`${ process.env.REACT_APP_BACKEND_URL }/posts?${ filter }_sort=publish_at:DESC&_start=0&_limit=10`)\r\n            .then(response => response.json())\r\n            .then((data: NewsDto[]) => data.map(datum => this.parseNews(datum)))\r\n            .then(articles => this.setState({ articles }));\r\n    }\r\n    \r\n    async componentDidMount () {\r\n        await this.fetchCurrentArticle();\r\n\r\n        this.subscribeOnGalleryChange();\r\n        adService.fetchAdvertisements();\r\n\r\n        await this.fetchLastArticles();\r\n    }\r\n\r\n    componentDidUpdate (previousProps: NewsComponentProperties) {\r\n        if (this.props.slug !== previousProps.slug) {\r\n            this.setState({\r\n                news: null,\r\n                advertisement: null,\r\n                articles: []\r\n            });\r\n            this.componentDidMount();\r\n        }\r\n    }\r\n\r\n    subscribeOnGalleryChange () {\r\n        this.subscription = adService.subscribeOnNewsPostAdUpdate(\r\n            (advertisement: Advertisement) => this.setState({ advertisement })\r\n        );\r\n    }\r\n\r\n    render () {\r\n        const { news, advertisement } = this.state;\r\n        const imageSrc = news ? news.newsCover.url : '';\r\n        const imageStyle = {\r\n            backgroundPosition: 'center',\r\n            backgroundRepeat: 'no-repeat',\r\n            backgroundAttachment: 'fixed',\r\n            backgroundSize: 'cover',\r\n            backgroundImage: `url(${ imageSrc })`\r\n        }\r\n        const date = moment(news?.publishDate).format(DATE_FORMAT);\r\n        const wordsBy = news?.wordsBy ? `| Author: ${ news.wordsBy }` : '';\r\n        const photosBy = news?.photosBy ? `| Photo by: ${ news.photosBy }` : '';\r\n\r\n        return news ? (\r\n            <article className={ `news ${ isMobileOnly ? 'mobile' : 'desktop' }` }>\r\n                <Seo meta={{\r\n                        title: news.title,\r\n                        description: news.excerpt,\r\n                        thumbnail: imageSrc\r\n                    }}\r\n                />\r\n                <div className='news-description' style={ imageStyle }>\r\n                    <div className='news-information'>\r\n                        <h1 className='news-title'>{ news.title }</h1>\r\n                        <p className='news-excerpt'>{ news.excerpt }</p>\r\n                        <p className='news-meta'>\r\n                            { `${ date } ${ wordsBy } ${ photosBy }` }\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className='news-content-container'>\r\n                    <div className='news-content'>\r\n                        <ReactMarkdown\r\n                            source={ news.content }\r\n                            escapeHtml={ false }\r\n                            renderers={{ link: props => <a href={ props.href } target=\"_blank\" rel=\"noopener noreferrer\">{ props.children }</a> }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                { advertisement ? (<AdComponent advertisement={ advertisement } />) : null }\r\n                <h2 className=\"more-news-title\">MORE NEWS</h2>\r\n                <div className=\"more-news\">\r\n                    {\r\n                        this.state.articles.filter(article => article.slug !== this.state.news?.slug)\r\n                            .sort(() => 0.5 - Math.random())\r\n                            .slice(0, 3)\r\n                            .map(article => (\r\n                                <Link to={ `../../../news/${ article.category.toLowerCase() }/${ article.slug }` } title={ article.title } key={ article.slug }>\r\n                                    <div className={ `card ${ isMobileOnly ? 'mobile' : 'desktop' }` }>\r\n                                        <img src={ article.newsCover.url } loading='lazy' alt={ article.newsCover.alternativeText }/>\r\n                                        <h2>{ article.title }</h2>\r\n                                        <p>{ article.excerpt }</p>\r\n                                    </div>    \r\n                                </Link>\r\n                            ))\r\n                    }\r\n                </div>\r\n            </article>\r\n        ) : null;\r\n    }\r\n}\r\n  \r\nexport default NewsComponent;","import React, { Component } from 'react';\r\n\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\nimport { AboutDto, About } from '../about/interfaces';\r\nimport { Seo } from '../shared/wrappers/seo/Seo'\r\n\r\nimport './About.css';\r\n\r\ninterface AboutComponentState {\r\n    about: About | null\r\n}\r\n\r\nexport class AboutComponent extends Component {\r\n    state: AboutComponentState = {\r\n        about: null\r\n    }\r\n\r\n    parseAbout(aboutDto: AboutDto): About | null {\r\n        return aboutDto ? {\r\n            title: aboutDto.Title,\r\n            description: aboutDto.Content,\r\n            aboutCover: {\r\n                alternativeText: aboutDto.Image.alternativeText,\r\n                caption: aboutDto.Image.caption,\r\n                url: aboutDto.Image.url\r\n            }\r\n        } : null\r\n    }\r\n\r\n    fetchAbout () {\r\n        fetch(`${ process.env.REACT_APP_BACKEND_URL }/about`)\r\n            .then(response => response.json())\r\n            .then((data: AboutDto) => this.parseAbout(data))\r\n            .then(about => this.setState({ about }));\r\n    }\r\n\r\n\r\n    componentDidMount () {\r\n        this.fetchAbout();\r\n    }\r\n\r\n    render () {\r\n        const { about } = this.state;\r\n        const className = `about ${ isMobileOnly ? 'mobile' : 'desktop' }`;\r\n        const imageSrc = about ? about.aboutCover.url : '';\r\n\r\n        return about ? (\r\n            <article className={ className }>\r\n                <Seo meta={{\r\n                        title: about.title,\r\n                        description: about.description,\r\n                        thumbnail: imageSrc\r\n                    }}\r\n                />\r\n                <div className='information'>\r\n                    <h1>{ about.title }</h1>\r\n                    <p>{ about.description }</p>\r\n                </div>\r\n                <div className='image'>\r\n                    <img src={ imageSrc } loading='lazy' alt={ about.aboutCover.alternativeText }/>\r\n                </div>\r\n            </article>\r\n        ) : null;\r\n    }\r\n}\r\n\r\nexport default AboutComponent;","import React, { Component } from 'react';\r\n\r\nimport { isMobileOnly } from 'react-device-detect';\r\n\r\nimport { DonateDto, Donate } from '../donate/interfaces';\r\nimport { Seo } from '../shared/wrappers/seo/Seo'\r\n\r\nimport './Donate.css';\r\nimport ReactMarkdown from 'react-markdown';\r\n\r\nconst DONATE_SEO_DESCRIPTION = 'Support us!'\r\n\r\ninterface DonateComponentState {\r\n    donate: Donate | null\r\n}\r\n\r\nexport class DonateComponent extends Component {\r\n    state: DonateComponentState = {\r\n        donate: null\r\n    }\r\n\r\n    parseDonate(donateDto: DonateDto): Donate | null {\r\n        return donateDto ? {\r\n            title: donateDto.Title,\r\n            description: donateDto.Content,\r\n            donateCover: {\r\n                alternativeText: donateDto.Image.alternativeText,\r\n                caption: donateDto.Image.caption,\r\n                url: donateDto.Image.url\r\n            }\r\n        } : null\r\n    }\r\n\r\n    fetchDonate () {\r\n        fetch(`${ process.env.REACT_APP_BACKEND_URL }/donate`)\r\n            .then(response => response.json())\r\n            .then((data: DonateDto) => this.parseDonate(data))\r\n            .then(donate => this.setState({ donate }));\r\n    }\r\n\r\n\r\n    componentDidMount () {\r\n        this.fetchDonate();\r\n    }\r\n\r\n    render () {\r\n        const { donate } = this.state;\r\n        const className = `donate ${ isMobileOnly ? 'mobile' : 'desktop' }`;\r\n        const imageSrc = donate ? donate.donateCover.url : '';\r\n\r\n        return donate ? (\r\n            <article className={ className }>\r\n                 <Seo meta={{\r\n                        title: donate.title,\r\n                        description: DONATE_SEO_DESCRIPTION,\r\n                        thumbnail: imageSrc\r\n                    }}\r\n                />\r\n                <div className='information'>\r\n                    <h1>{ donate.title }</h1>\r\n                    <div className='text-content'>\r\n                        <ReactMarkdown\r\n                            source={ donate.description }\r\n                            escapeHtml={ false }\r\n                            renderers={{ link: props => <a href={ props.href } target=\"_blank\" rel=\"noopener noreferrer\">{ props.children }</a> }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className='image'>\r\n                    <img src={ imageSrc } loading='lazy' alt={ donate.donateCover.alternativeText }/>\r\n                </div>\r\n            </article>\r\n        ) : null;\r\n    }\r\n}\r\n\r\nexport default DonateComponent;","import React from 'react';\r\n\r\nimport {\r\n    Switch,\r\n    Route,\r\n} from 'react-router-dom';\r\n\r\nimport StartPageComponent from '../start-page/StartPageComponent';\r\nimport ShowListComponent from '../shows/ShowListComponent';\r\nimport NewsListComponent from '../news/NewsListComponent';\r\nimport ShowComponent from '../shows/ShowComponent/ShowComponent';\r\nimport NewsComponent from '../news/News/NewsComponent';\r\nimport AboutComponent from '../about/About';\r\nimport { SchedulePageComponent } from '../shared/schedule/ScheduleComponent';\r\nimport DonateComponent from '../donate/Donate'\r\n\r\nimport { NewsListTypes } from '../shared/enums';\r\n\r\nimport './Content.css';\r\n\r\nconst SCHEDULE = '/schedule';\r\nconst SHOWS = '/shows';\r\nconst NEWS = '/news';\r\nconst ABOUT = '/about';\r\nconst DONATE = '/donate';\r\n\r\nfunction Content() {\r\n    return (\r\n        <Switch>\r\n            <Route exact path='/' component={ StartPageComponent } />\r\n            <Route exact path={ SCHEDULE } component={ SchedulePageComponent } />\r\n            <Route exact path={ SHOWS } component={ ShowListComponent } />\r\n            <Route exact path={ `${ SHOWS }/:slug` } component={(routerProps: any) => <ShowComponent slug={ routerProps.match.params.slug } />} />\r\n            <Route exact path={ NEWS } component={ () => <NewsListComponent type={ NewsListTypes.Full } /> } />\r\n            <Route exact path={ `${ NEWS }/:category` } component={ (routerProps: any) => <NewsListComponent type={ NewsListTypes.Full } category={ routerProps.match.params.category } /> } />\r\n            <Route exact path={ `${ NEWS }/:category/:slug` } component={(routerProps: any) => <NewsComponent slug={routerProps.match.params.slug} />} />\r\n            <Route exact path={ ABOUT } component={ AboutComponent } />\r\n            <Route exact path={ DONATE } component={ DonateComponent } />\r\n        </Switch>\r\n    );\r\n}\r\n  \r\nexport default Content;","import React from 'react'\r\n\r\nimport {\r\n    Switch,\r\n    Route,\r\n} from 'react-router-dom';\r\n\r\nimport { BrowserView, isMobileOnly } from 'react-device-detect';\r\n\r\nimport MenuButton from '../menu/menu-button/MenuButton'\r\nimport PlayerComponent from '../shared/Player/PlayerComponent/PlayerComponent'\r\nimport Content from '../content/Content'\r\nimport { PlayerTypes } from '../shared/enums';\r\n\r\nimport './Main.css'\r\n\r\nfunction Main() {\r\n    const device = isMobileOnly ? 'mobile' : 'desktop';\r\n\r\n    return (\r\n        <main className={ device }>\r\n            <BrowserView>\r\n                <MenuButton />\r\n            </BrowserView>\r\n            <Switch>\r\n                <Route exact path='/' render={\r\n                    props => <PlayerComponent { ...props } playerType={ PlayerTypes.Main }/>\r\n                }/>\r\n            </Switch>\r\n            <Content />\r\n        </main>\r\n    );\r\n}\r\n  \r\nexport default Main;","import React, { Component } from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { playerService } from './PlayerService';\r\nimport { PlayerState } from './interfaces';\r\nimport { DEFAULT_PLAYER_STATE } from './constants';\r\n\r\nimport './Player.css';\r\n\r\nexport class Player extends Component {\r\n    state = DEFAULT_PLAYER_STATE;\r\n    subscription: Subscription | null = null;\r\n    \r\n    componentDidMount () {\r\n        this.subscribeOnPlayerStateChange();\r\n    }\r\n\r\n    subscribeOnPlayerStateChange () {\r\n        this.subscription = playerService.subscribeOnPlayerStateChanges((data: PlayerState) => {\r\n            if (data.playing !== this.state.playing) {\r\n                const audio = document.querySelector('audio') as HTMLAudioElement;\r\n\r\n                audio.src = data.playing ? process.env.REACT_APP_STREAM_URL as string : '';\r\n            }\r\n            this.setState(data);\r\n        });\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.subscription?.unsubscribe();\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            playing,\r\n            muted,\r\n            volume\r\n        } = this.state;\r\n\r\n        return (\r\n            <div className='audio'>\r\n                <ReactPlayer\r\n                    url={ process.env.REACT_APP_STREAM_URL }\r\n                    playing={ playing }\r\n                    muted={ muted }\r\n                    volume={ volume }\r\n                    config={{\r\n                        file: {\r\n                            forceAudio: true\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Player;","import React from 'react';\r\n\r\nimport {\r\n    BrowserRouter, HashRouter\r\n} from 'react-router-dom';\r\n\r\nimport Header from './components/header/Header';\r\nimport Main from './components/main/Main';\r\nimport Player from './components/shared/Player/Player';\r\n\r\nimport './App.css';\r\nimport { HelmetProvider } from 'react-helmet-async';\r\n\r\nconst Components = (\r\n    <>\r\n        <Header />\r\n        <Main />\r\n        <Player />\r\n    </>\r\n);\r\n\r\nfunction withEnvironmentalRouter (children: JSX.Element) {\r\n    return process.env.REACT_APP_ENV === 'production' ?\r\n    (\r\n        <BrowserRouter>\r\n            { children }\r\n        </BrowserRouter>\r\n    ) :\r\n    (\r\n        <HashRouter basename='/'>\r\n            { children }\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nfunction App() {\r\n    return (\r\n        <HelmetProvider>\r\n            { withEnvironmentalRouter(Components) }\r\n        </HelmetProvider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}