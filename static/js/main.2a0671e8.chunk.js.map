{"version":3,"sources":["components/shared/interfaces.ts","components/shared/SocialLinksComponent/SocialLinksComponent.tsx","components/shared/enums.ts","components/shared/Player/constants.ts","components/shared/Player/PlayerService.ts","components/shared/Player/PlayerControls/PlayButton/PlayButton.tsx","components/shared/Player/PlayerControls/VolumeControls/VolumeControls.tsx","components/shared/Player/PlayerComponent/PlayerComponent.tsx","components/header/Header.tsx","components/menu/Menu.tsx","components/menu/menu-button/MenuButton.tsx","components/shared/schedule/enums.ts","components/shared/constants.ts","components/gallery/GalleryService.ts","components/shared/schedule/ScheduleService.ts","components/gallery/GalleryComponent.tsx","components/shared/schedule/ScheduleShowline.tsx","components/shared/scrollable-wrapper/ScrollableWrapper.tsx","components/shared/schedule/ScheduleComponent.tsx","components/start-page/StartPageComponent.tsx","components/shows/ShowCardComponent/ShowCardComponent.tsx","components/shows/ShowListComponent.tsx","components/news/NewsCardComponent/NewsCardComponent.tsx","components/news/NewsListComponent.tsx","components/shows/ShowEpisodesComponent/ShowEpisodesComponent.tsx","components/shows/ShowComponent/ShowComponent.tsx","components/news/News/NewsComponent.tsx","components/about/About.tsx","components/donate/Donate.tsx","components/content/Content.tsx","components/main/Main.tsx","components/shared/Player/Player.tsx","App.tsx","index.tsx"],"names":["Socials","SOCIAL_ICONS","Map","Mixcloud","mixcloudIcon","Spotify","spotifyIcon","Itunes","itunesIcon","Castbox","castboxIcon","Facebook","facebookIcon","Vk","vkIcon","Email","mailRu","Instagram","instagramIcon","Telegram","telegramIcon","GooglePlay","googlePlay","SocialLinksComponent","PlayerTypes","socialLinks","linkElements","Object","entries","map","entry","key","href","icon","className","target","rel","width","color","buildSocialLink","Date","getTime","get","DEFAULT_PLAYER_STATE","playing","muted","volume","playerService","state","playerState","track","playerStateSubject","trackNameSubject","this","Subject","updateTrackName","setInterval","bind","onNext","subscribe","data","fetch","response","json","trackName","icestats","source","title","next","isPlaying","volumeLevel","isMuted","PlayButton","playerType","useState","setPlayingMode","renderIcon","size","Main","height","onClick","pauseIcon","playIcon","FullVolumeIcon","bxsVolumeFull","MuteVolumeIcon","bxsVolumeMute","VolumeControls","setVolumeMode","ReactSlider","thumbClassName","trackClassName","defaultValue","value","Math","trunc","sliderDefaultValue","onChange","changeVolume","PlayerComponent","subscription","subscribeOnPlayerStateChange","setState","subscribeOnTrackNameChanges","props","isMainPlayer","renderMainPlayer","renderHeaderPlayer","renderPlayer","Component","HEADER_SOCIAL_LINKS","mixcloud","facebook","vk","email","instagram","telegram","withRouter","to","exact","path","render","Header","bxSearch","PAGES","Menu","menuRef","wrapperRef","toggleMenu","ref","crossIcon","route","toLowerCase","buildMenuItem","MenuButton","IndexesOfDay","React","createRef","current","classList","toggle","BACKEND_URL","galleryService","indexGallery","gallerySubject","fetchIndexGallery","then","parseIndexGallery","updateIndexGallery","dto","photoExhibition","PhotoExhibition","photoExhibitionAuthor","PhotoExhibitionAuthor","photoExhibitionDescription","PhotoExhibitionDescription","photoExhibitionLink","PhotoExhibitionLink","photoExhibitionMedia","PhotoExhibitionMedia","imageDto","mapImageDto","photoExhibitionTitle","PhotoExhibitionTitle","regularGallery","RegularGallery","video","Video","videoEmbedCode","VideoEmbedCode","alternativeText","caption","url","gallery","PeriodicityTypes","indexByDayName","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","scheduleService","_schedule","_currentShow","scheduleSubject","currentShowSubject","fetchSchedules","updateCurrentShow","weekday","moment","isoWeekday","currentDate","toISOString","substr","schedule","find","showline","type","isBetween","startTime","start","endTime","end","concat","datum","parseScheduleLine","scheduleShows","organizeSchedule","OnAirDateTime","onAirDateTime","weekdays","dayIndex","undefined","push","Title","description","Description","Type","hide","Hide","link","Link","startDate","StartDate","StartTime","endDate","EndDate","EndTime","periodicity","Periodicity","image","ShowImg","day","forEach","show","shouldShowBeOnAir","sort","sortShowsByDate","first","second","slice","showStartDate","dateOfDay","add","weeksPassed","week","Daily","Weekly","includes","BiWeekly","EveryThirdWeek","SingleTime","startOf","isSame","GalleryComponent","subscribeOnGalleryChange","subscribeOnGalleryChanges","unsubscribe","showArrows","showStatus","showThumbs","showIndicators","autoPlay","infiniteLoop","interval","photo","src","alt","currentShow","graphicContentSelection","ScheduleShowline","ScrollableWrapper","children","DAYS_OF_WEEK","ScheduleComponent","selectedDay","scheduleShowlineBuilder","selectDay","renderButtons","index","renderDailySchedule","length","playlistShow","subscribeOnScheduleChange","subscribeOnScheduleChanges","ScrollableScheduleComponent","StartPageComponent","ShowCardComponent","showCard","excerpt","showCover","slug","loading","ShowListComponent","showCards","showDto","Excerpt","ShowCover","Slug","parseShowCard","fetchShows","renderShowCards","NewsCardComponent","newsCard","newsCover","NewsListComponent","newsCards","page","handleScroll","event","scrollHeight","scrollTop","fetchNews","newsDto","PostCover","publishDate","PublishDate","diff","cards","sortCardsByDate","parseNewsCard","handleResponse","onScroll","renderNewsCards","ShowEpisodesComponent","showEpisodes","name","pictures","date","created_time","playlistDto","parseShowEpisode","playlist","parseShowEpisodes","reverse","episode","split","join","episodes","renderShowEpisode","fetchPlaylist","renderShowEpisodes","ShowComponent","showLinks","ShowLink","spotify","itunes","castbox","parseShow","fetchShow","imageSrc","NewsComponent","news","content","Content","wordsBy","WordsBy","photosBy","PhotosBy","parseNews","imageStyle","backgroundRepeat","backgroundAttachment","backgroundSize","backgroundImage","format","style","escapeHtml","AboutComponent","about","aboutDto","aboutCover","Image","parseAbout","fetchAbout","DonateComponent","donate","donateDto","donateCover","parseDonate","fetchDonate","component","routerProps","match","params","Player","subscribeOnPlayerStateChanges","config","file","forceAudio","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"2kBAAYA,E,qQAAAA,K,kBAAAA,E,gBAAAA,E,oBAAAA,E,kBAAAA,E,oBAAAA,E,QAAAA,E,cAAAA,E,sBAAAA,E,oBAAAA,E,yBAAAA,M,eCkBNC,EAAe,IAAIC,IAAoB,CACzC,CAAEF,EAAQG,SAAUC,KACpB,CAAEJ,EAAQK,QAASC,KACnB,CAAEN,EAAQO,OAAQC,KAClB,CAAER,EAAQS,QAASC,KACnB,CAAEV,EAAQW,SAAUC,KACpB,CAAEZ,EAAQa,GAAIC,KACd,CAAEd,EAAQe,MAAOC,KACjB,CAAEhB,EAAQiB,UAAWC,KACrB,CAAElB,EAAQmB,SAAUC,KACpB,CAAEpB,EAAQqB,WAAYC,OA+BXC,IC3DHC,ED2DGD,EAhBf,YAAuE,IAAvCE,EAAsC,EAAtCA,YACtBC,EAAeC,OAAOC,QAAQH,GAAaI,KAAI,SAAAC,GAKjD,OAdR,SAA0BC,EAAaC,EAA0BC,GAC7D,OAAOD,GAAQC,EACX,uBAAGC,UAAU,cAAcC,OAAO,SAASJ,IAAMA,EAAMC,KAAOA,EAAOI,IAAI,uBACrE,kBAAC,OAAD,CAAMF,UAAU,cAAcD,KAAOA,EAAOI,MAAM,QAAQC,MAAM,WAEnE,KASMC,CAJE,UAAOT,EAAM,GAAb,aAAqB,IAAIU,MAAOC,WAC5BX,EAAM,GACN7B,EAAayC,IAAIZ,EAAM,QAKxC,OACI,yBAAKI,UAAU,gBACTR,I,wGE/CDiB,EAAoC,CAC7CC,SAAS,EACTC,OAAO,EACPC,OAAQ,GC6DNC,EAAgB,I,WA5DlB,WAAaC,GAAqB,yBAL1BC,iBAKyB,OAJzBC,MAAQ,GAIiB,KAHzBC,wBAGyB,OAFzBC,sBAEyB,EAC7BC,KAAKJ,YAAcD,EACnBK,KAAKF,mBAAqB,IAAIG,IAC9BD,KAAKD,iBAAmB,IAAIE,IAE5BD,KAAKE,kBACLC,YAAYH,KAAKE,gBAAgBE,KAAKJ,MDZT,M,0EC8CFK,GAC3B,OAAOL,KAAKF,mBAAmBQ,WAAU,SAAAC,GAAI,OAAIF,EAAOE,Q,kDAG/BF,GACzB,OAAOL,KAAKD,iBAAiBO,WAAU,SAAAC,GAAI,OAAIF,EAAOE,Q,4KAI/BC,MDzDP,iD,cCyDVC,E,gBACaA,EAASC,O,OAAtBH,E,QACAI,EAAYJ,EAAKK,SAASC,OAAO,GAAGC,SAExBd,KAAKH,QACnBG,KAAKH,MAAQc,EACbX,KAAKD,iBAAiBgB,KAAKf,KAAKH,Q,kIA9C3BmB,GACThB,KAAKJ,YAAYL,QAAUyB,EAC3BhB,KAAKF,mBAAmBiB,KAAKf,KAAKJ,c,eAIlC,OAAOI,KAAKJ,YAAYL,U,2BAGhB0B,GACRjB,KAAKJ,YAAYH,OAASwB,EAC1BjB,KAAKF,mBAAmBiB,KAAKf,KAAKJ,c,eAIlC,OAAOI,KAAKJ,YAAYH,S,0BAGjByB,GACPlB,KAAKJ,YAAYJ,MAAQ0B,EACzBlB,KAAKF,mBAAmBiB,KAAKf,KAAKJ,c,eAIlC,OAAOI,KAAKJ,YAAYJ,Q,gCAIxB,OAAOQ,KAAKH,U,KAuBE,CAAkBP,I,SFvE5BnB,K,YAAAA,E,iBAAAA,M,WG4CGgD,MA5Bf,YAAkD,IAA5BC,EAA2B,EAA3BA,WAA2B,EACTC,mBAAS3B,EAAcH,SADd,mBACrCA,EADqC,KAC5B+B,EAD4B,KAYvCC,EAAa,SAAC3C,GAChB,IAAM4C,EAJCJ,IAAejD,EAAYsD,KAXvB,GADA,GAkBX,OAAO,kBAAC,OAAD,CAAM7C,KAAOA,EAAOI,MAAQwC,EAAOE,OAASF,KAGvD,OACI,4BACI3C,UAAU,cACV8C,QAlBkB,WACtBjC,EAAcH,SAAWG,EAAcH,QACvC+B,EAAe5B,EAAcH,WAkBbgC,EAAVhC,EAAqBqC,IAAwBC,O,8CC5BrDC,I,MAAiB,kBAAC,OAAD,CAAMlD,KAAOmD,KAAgB/C,MAAQ,GAAK0C,OAAS,GAAKzC,MAAM,aAC/E+C,GAAiB,kBAAC,OAAD,CAAMpD,KAAOqD,KAAgBjD,MAAQ,GAAK0C,OAAS,GAAKzC,MAAM,YAuCtEiD,OArCf,WAA2B,IAAD,EACWb,mBAAS3B,EAAcF,OADlC,mBACdA,EADc,KACP2C,EADO,KAkBtB,OACI,yBAAKtD,UAAU,mBACX,4BACIA,UAAU,qBACV8C,QAnBa,WACrBjC,EAAcF,OAASE,EAAcF,MACrC2C,EAAczC,EAAcF,SAmBlBA,EAAQsC,GAAiBE,IAE/B,kBAACI,EAAA,EAAD,CACIvD,UAAU,oBACVwD,eAAe,QACfC,eAAe,QACfC,aAlBe,WACvB,IAAMC,EAA+B,IAAvB9C,EAAcD,OAE5B,OAAOgD,KAAKC,MAAMF,GAeKG,GACfC,SAAW,SAAAJ,GAAK,OAvBP,SAACA,GAClB9C,EAAcD,OAAS+C,EAAQ,IAsBHK,CAAaL,QCyClCM,I,MAvEf,4MACInD,MAAQ,CACJgB,UAAW,IAFnB,EAIIoC,aAAoC,KAJxC,kEAeQ/C,KAAKgD,+BACLhD,KAAKiD,SAAS,CACVtC,UAAWjB,EAAciB,cAjBrC,qDAqBqC,IAAD,OAC5BX,KAAK+C,aAAerD,EAAcwD,6BAC9B,SAACvC,GAAD,OAAuB,EAAKsC,SAAS,CAAEtC,mBAvBnD,uCA2BsBA,GACd,OACI,oCACI,yBAAK9B,UAAU,sBACX,kBAAC,EAAD,CAAYuC,WAAapB,KAAKmD,MAAM/B,aACpC,kBAAC,GAAD,OAEJ,uBAAGvC,UAAU,SApCf,SAqCE,uBAAGA,UAAU,eAAgB8B,MAnC7C,yCAwCwBA,GAChB,OACI,oCACI,kBAAC,EAAD,CAAYS,WAAapB,KAAKmD,MAAM/B,aACpC,yBAAKvC,UAAU,eACX,2BAAK8B,IAET,kBAAC,GAAD,SA/ChB,qCAoDqB,IAETA,EACAX,KAAKL,MADLgB,UAGJ,OAAOX,KAAKoD,aACRpD,KAAKqD,iBAAiB1C,GACtBX,KAAKsD,mBAAmB3C,KA3DpC,+BA+DQ,OACI,yBAAK9B,UAAYmB,KAAKnB,WAChBmB,KAAKuD,kBAjEvB,mCAOQ,OAAOvD,KAAKmD,MAAM/B,aAAejD,EAAYsD,OAPrD,gCAWQ,MAAM,GAAN,OAAWzB,KAAKmD,MAAM/B,WAAtB,eAXR,GAAqCoC,cCQ/BC,I,OAAmC,CACrCC,SAAU,uCACVC,SAAU,0CACVC,GAAI,4BACJC,MAAO,2BACPC,UAAW,yCACXC,SAAU,0BACV9F,WAAY,iEAyBD+F,oBAtBf,WACI,OACI,4BAAQnF,UAAU,oBACd,kBAAC,IAAD,CAAMoF,GAAG,IAAIpF,UAAU,aAhBf,eAiBR,yBAAKA,UAAU,oBACX,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOqF,OAAK,EAACC,KAAK,IAAIC,OAClB,SAAAjB,GAAK,OAAK,kBAAC,EAAD,iBAA2BA,EAA3B,CAAmC/E,YAAcqF,SAE/D,kBAAC,IAAD,CAAOU,KAAK,IAAIC,OACZ,SAAAjB,GAAK,OAAK,kBAAC,GAAD,iBAAsBA,EAAtB,CAA8B/B,WAAajD,EAAYkG,cAGzE,kBAAC,IAAD,CAAMJ,GAAG,UAAUpF,UAAU,UAzB9B,UA0BC,yBAAKA,UAAU,eACX,kBAAC,OAAD,CAAMD,KAAO0F,IAAWtF,MAAM,QAAQC,MAAM,gB,oBCtC1DsF,I,OAAQ,CACV,OACA,QACA,WACA,UA2CaC,OAlCjB,YAAoE,IAApDC,EAAmD,EAAnDA,QAASC,EAA0C,EAA1CA,WAAYC,EAA8B,EAA9BA,WAYjC,OACI,oCACI,yBAAK9F,UAAU,UAAU+F,IAAMF,EAAa/C,QAAUgD,IACtD,yBAAKC,IAAMH,GACP,yBAAK5F,UAAU,0BACX,4BACIA,UAAU,eACV8C,QAAUgD,GAEV,kBAAC,OAAD,CAAM/F,KAAOiG,KAAY7F,MAAQ,GAAK0C,OAAS,OAGvD,yBAAK7C,UAAU,wBACX,wBAAIA,UAAU,cACR0F,GAAM/F,KAAI,SAAAsC,GAAK,OAxBf,SAACA,GACnB,IAAMgE,EAAK,WAAQhE,EAAMiE,eAEzB,OACI,wBAAIlG,UAAU,YAAYH,IAAMoC,GAC5B,kBAAC,IAAD,CAAMmD,GAAKa,EAAQnD,QAAUgD,GAAe7D,IAmBfkE,CAAclE,W,OCrB1CmE,IC5BLC,GD4BKD,GAnBjB,WACI,IAAMR,EAAUU,IAAMC,YAChBV,EAAaS,IAAMC,YAEnBT,EAAa,WAAO,IAAD,IACrB,UAAAD,EAAWW,eAAX,SAAoBC,UAAUC,OAAO,gBACrC,UAAAd,EAAQY,eAAR,SAAiBC,UAAUC,OAAO,cAGtC,OACI,oCACI,kBAAC,GAAD,CAAMd,QAAUA,EAAUC,WAAaA,EAAaC,WAAaA,IACjE,yBAAK9F,UAAU,aAAa8C,QAAUgD,GAClC,uBAAG9F,UAAU,SAfhB,W,6BEPA2G,GAAc,uCCqEZC,GAFQ,I,WAtDnB,aAAgB,yBAHRC,aAAoC,KAG7B,KAFPC,oBAEO,EACX3F,KAAK2F,eAAiB,IAAI1F,IAE1BD,KAAK4F,oBACLzF,YAAYH,KAAK4F,kBAAkBxF,KAAKJ,MAVf,K,sEAsBFK,GACvB,OAAOL,KAAK2F,eAAerF,WAAU,SAAAC,GAAI,OAAIF,EAAOE,Q,+KAI9CC,MAAM,GAAD,OAAKgF,GAAL,mBACNK,MAAK,SAAApF,GAAQ,OAAIA,EAASC,UAC1BmF,MAAK,SAAAtF,GAAI,OAAI,EAAKuF,kBAAkBvF,MACpCsF,MAAK,SAAAH,GAAY,OAAI,EAAKK,mBAAmBL,M,yIAG3BM,GAAuB,IAAD,OAC7C,MAAO,CACHC,gBAAiBD,EAAIE,gBACrBC,sBAAuBH,EAAII,sBAC3BC,2BAA4BL,EAAIM,2BAChCC,oBAAqBP,EAAIQ,oBACzBC,qBAAsBT,EAAIU,qBAAqBlI,KAAI,SAAAmI,GAAQ,OAAI,EAAKC,YAAYD,MAChFE,qBAAsBb,EAAIc,qBAC1BC,eAAgBf,EAAIgB,eAAexI,KAAI,SAAAmI,GAAQ,OAAI,EAAKC,YAAYD,MACpEM,MAAOjB,EAAIkB,MACXC,eAAgBnB,EAAIoB,kB,kCAIPT,GACjB,MAAO,CACHU,gBAAiBV,EAASU,gBAC1BC,QAASX,EAASW,QAClBC,IAAKZ,EAASY,O,yCAIM7B,GACxB1F,KAAKwH,QAAU9B,I,8BA1Cf,OAAO1F,KAAK0F,c,aAGH8B,GACTxH,KAAK0F,aAAe8B,EACpBA,GAAWxH,KAAK2F,eAAe5E,KAAKyG,O,4CF1BhCtC,O,mBAAAA,I,qBAAAA,I,yBAAAA,I,uBAAAA,I,mBAAAA,I,uBAAAA,I,oBAAAA,Q,KGQZ,IAGKuC,I,SAAAA,K,wBAAAA,E,cAAAA,E,gBAAAA,E,oBAAAA,E,8BAAAA,E,mBAAAA,Q,KASL,IAAMC,GAAiB,IAAI7K,IAAI,CAC3B,CAAE,SAAUqI,GAAayC,QACzB,CAAE,UAAWzC,GAAa0C,SAC1B,CAAE,YAAa1C,GAAa2C,WAC5B,CAAE,WAAY3C,GAAa4C,UAC3B,CAAE,SAAU5C,GAAa6C,QACzB,CAAE,WAAY7C,GAAa8C,UAC3B,CAAE,SAAU9C,GAAa+C,UA2IvBC,GAAkB,I,WAlIpB,aAAgB,yBALRC,UAA8B,CAAE,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAKjD,KAJPC,kBAIO,OAHPC,qBAGO,OAFPC,wBAEO,EACXtI,KAAKqI,gBAAkB,IAAIpI,IAC3BD,KAAKsI,mBAAqB,IAAIrI,IAE9BD,KAAKuI,iBACLvI,KAAKwI,oBACLrI,YAAYH,KAAKuI,eAAenI,KAAKJ,MAlCf,OAmCtBG,YAAYH,KAAKwI,kBAAkBpI,KAAKJ,MAlCV,K,gEAwD9B,IAAMyI,EAAUC,OAASC,aAAe,EAClCC,GAAc,IAAIzJ,MAAO0J,cAAcC,OAAO,EAAG,IAIvD9I,KAAKoI,aAAepI,KAAK+I,SAASN,GAASO,MAAK,SAAAC,GAC5C,MAAyB,SAAlBA,EAASC,MAAmBR,OAASS,UAJlC,SAACF,GAAD,OAA4BP,KAAO,GAAD,OAAKE,EAAL,YAAsBK,EAASG,YAIrBC,CAAMJ,GAHpD,SAACA,GAAD,OAA4BP,KAAO,GAAD,OAAKE,EAAL,YAAsBK,EAASK,UAGFC,CAAIN,S,4KAKzEzI,MAAM,GAAD,OAAKgF,GAAL,eACNK,MAAK,SAAApF,GAAQ,OAAIA,EAASC,UAC1BmF,MAAK,SAAAtF,GAAI,aAAI,MAAGiJ,OAAH,qBAAajJ,EAAK/B,KAAI,SAACiL,GAAD,OAAwB,EAAKC,kBAAkBD,WAClF5D,MAAK,SAAA8D,GAAa,OAAI,EAAKC,iBAAiBD,M,kJAGzBtJ,GACxB,OAAOL,KAAKqI,gBAAgB/H,WAAU,SAAAC,GAAI,OAAIF,EAAOE,Q,oDAG1BF,GAC3B,OAAOL,KAAKsI,mBAAmBhI,WAAU,SAAAC,GAAI,OAAIF,EAAOE,Q,wCAGjCyF,GACvB,OAAOA,EAAI6D,cAAcrL,KAAI,SAAAsL,GAGzB,IAH2C,IAAD,MACpCC,EAAW,GAEjB,MAA6BzL,OAAOC,QAAQuL,GAA5C,eAA4D,CAAC,IAAD,sBAA/CpL,EAA+C,KAA1C8D,EAA0C,KAClDwH,EAAWtC,GAAerI,IAAIX,GAEpC8D,QAAsByH,IAAbD,GAA0BD,EAASG,KAAKF,GAGrD,MAAO,CACHlJ,MAAOkF,EAAImE,MACXC,YAAapE,EAAIqE,YACjBnB,KAAMlD,EAAIsE,KACVC,KAAMvE,EAAIwE,KACVC,KAAMzE,EAAI0E,KACVC,UAAWb,EAAcc,UACzBxB,UAAWU,EAAce,UACzBC,QAAShB,EAAciB,QACvBzB,QAASQ,EAAckB,QACvBC,YAAanB,EAAcoB,YAC3BnB,WACAoB,MAAOnF,EAAM,CACTqB,gBAAe,UAAErB,EAAIoF,eAAN,aAAE,EAAa/D,gBAC9BC,QAAO,UAAEtB,EAAIoF,eAAN,aAAE,EAAa9D,QACtBC,IAAG,UAAEvB,EAAIoF,eAAN,aAAE,EAAa7D,KAClB,W,uCAKUoC,GAGtB,IAHsD,IAAD,OAC/CZ,EAA8B,GADiB,WAG5CsC,GACLtC,EAASsC,GAAO,GAEhB1B,EAAc2B,SAAQ,SAAAC,GAClB,EAAKC,kBAAkBD,EAAMF,IAAQtC,EAASsC,GAAKnB,KAAKqB,MAG5DxC,EAASsC,GAAKI,KAAK,EAAKC,kBAPnBL,EAAMnG,GAAayC,OAAQ0D,GAAOnG,GAAa+C,OAAQoD,IAAQ,EAA/DA,GAUTrL,KAAK+I,SAAWA,I,sCAGK4C,EAAqBC,GAC1C,OAAQD,EAAMvC,UAAUyC,MAAM,EAAG,IAAMD,EAAOxC,UAAUyC,MAAM,EAAG,K,wCAG1CN,EAAoBF,GAC3C,GAAIE,EAAKhB,KACL,OAAO,EAGX,IAAMuB,EAAgBpD,KAAO6C,EAAKZ,WAC5BoB,EAAYrD,OAASsD,IAAItD,OAASC,aAAe0C,EAAM,EAAG,QAC1DY,IAAgBvD,OAASwD,OAASJ,EAAcI,QAEtD,OAAQX,EAAKN,aACT,KAAKxD,GAAiB0E,MAEtB,KAAK1E,GAAiB2E,OAClB,OAAOb,EAAKxB,SAASsC,SAAShB,GAClC,KAAK5D,GAAiB6E,SAClB,OAAOf,EAAKxB,SAASsC,SAAShB,IAAQY,EAAc,IAAM,EAC9D,KAAKxE,GAAiB8E,eAClB,OAAOhB,EAAKxB,SAASsC,SAAShB,IAAQY,EAAc,IAAM,EAC9D,KAAKxE,GAAiB+E,WAClB,OAAOV,EAAcW,QAAQ,OAAOC,OAAOX,EAAUU,QAAQ,QACjE,QAAS,OAAO,K,6BAnHV1D,GACV/I,KAAKmI,UAAYY,EACjB/I,KAAKqI,gBAAgBtH,KAAKgI,I,eAI1B,OAAO/I,KAAKmI,Y,kCAIZ,OAAOnI,KAAKoI,c,aAGCmD,GACbvL,KAAKoI,aAAemD,EACpBvL,KAAKsI,mBAAmBvH,KAAKwK,O,MCiDtBoB,I,0NA5FXhN,MAA+B,CAAE6H,QAAS,M,EAC1CzE,aAAoC,K,kEAGhC/C,KAAK4M,2BACLnH,GAAeG,sB,iDAGU,IAAD,OACxB5F,KAAK+C,aAAe0C,GAAeoH,2BAC/B,SAACrF,GAAD,OAA2B,EAAKvE,SAAS,CAAEuE,iB,6CAI1B,IAAD,EACpB,UAAAxH,KAAK+C,oBAAL,SAAmB+J,gB,gDAGK,IAChBtF,EAAYxH,KAAKL,MAAjB6H,QAER,OAAKA,GAIL,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAASP,OAEL,kBAAC,KAAD,CAAaM,IAAMC,EAAQL,kBAInC,OAAIK,QAAJ,IAAIA,OAAJ,EAAIA,EAASvB,iBAEL,kBAAC,YAAD,CAAUpH,UAAU,WACVkO,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,gBAAiB,EACjBC,UAAW,EACXC,cAAe,EACfC,SAAW,KAEf7F,EAAQf,qBAAqBjI,KAAI,SAAA8O,GAAK,OACpC,6BACI,yBAAKC,IAAMD,EAAM/F,IACZiG,IAAMF,EAAMjG,uBAQjCa,GAAgBuF,aAAevF,GAAgBuF,YAAYtC,MAEvD,yBAAKtM,UAAU,gBACV0O,IAAMrF,GAAgBuF,YAAYtC,MAAM5D,IACxCiG,IAAMtF,GAAgBuF,YAAYtC,MAAM9D,kBAMjD,kBAAC,YAAD,CAAUxI,UAAU,WACVkO,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,gBAAiB,EACjBC,UAAW,EACXC,cAAe,EACfC,SAAW,KAEf7F,EAAQT,eAAevI,KAAI,SAAA8O,GAAK,OAC9B,6BACI,yBAAKC,IAAMD,EAAM/F,IACZiG,IAAMF,EAAMjG,uBArDtB,O,+BA8DX,OACI,yBAAKxI,UAAU,oBACTmB,KAAK0N,+B,GAvFQlK,c,OCqBdmK,OA3BjB,YAAqE,IAAzC1E,EAAwC,EAAxCA,SAEpBnI,EAKAmI,EALAnI,MACAsJ,EAIAnB,EAJAmB,YACAK,EAGAxB,EAHAwB,KACArB,EAEAH,EAFAG,UACAE,EACAL,EADAK,QAEE+D,EAAWjE,GAAaE,EAAb,UAA2BF,EAAUyC,MAAM,EAAG,GAA9C,cAAwDvC,EAAQuC,MAAM,EAAG,IAAQ,GAC5FlN,EAAO8L,GAAc,GAE3B,OACI,uBAAG9L,KAAOA,GACN,yBAAKE,UAAU,wBACX,yBAAKA,UAAU,aACX,2BAAKwO,IAET,yBAAKxO,UAAU,cACX,2BAAKiC,GAAgB,KAEzB,yBAAKjC,UAAU,aACX,2BAAKuL,GAA4B,Q,cCftCwD,OARf,YAAwE,IAA1CC,EAAyC,EAAzCA,SAC1B,OACI,yBAAKhP,UAAU,wBACTgP,ICGRC,GAAe,CACjB,MACA,MACA,MACA,MACA,MACA,MACA,OAKEC,G,4MACFhL,aAAoC,K,EACpCpD,MAAQ,CACJoJ,SAAUb,GAAgBa,SAC1BiF,YAAatF,OAASC,aAAe,G,EAazCsF,wBAA0B,SAAChF,GACvB,OACI,kBAAC,GAAD,CACIA,SAAWA,EACXvK,IAAG,UAAOuK,EAASnI,MAAhB,YAA2BmI,EAAS0B,UAApC,YAAmD1B,EAAS6B,Y,EAK3EoD,UAAY,SAAC7C,GACT,EAAKpI,SAAS,CACV+K,YAAa3C,K,EAQrB8C,cAAgB,WAAO,IACXH,EAAgB,EAAKrO,MAArBqO,YAER,OAAOF,GAAatP,KAAI,SAAC6M,EAAK+C,GAAN,OACpB,4BAAQvP,UAAS,8BAA2BmP,IAAgBI,EAAQ,SAAW,IACvEzM,QAAU,kBAAM,EAAKuM,UAAUE,IAC/B1P,IAAG,UAAO2M,EAAItG,cAAX,YAA8BqJ,IAEnC/C,O,EAKdgD,oBAAsB,WAAO,IAAD,EAIpB,EAAK1O,MAFLoJ,EAFoB,EAEpBA,SACAiF,EAHoB,EAGpBA,YAGJ,OAAOjF,EAASiF,GAAaM,OACzBvF,EAASiF,GAAaxP,KAAI,SAAC+P,GAAD,OAAgC,EAAKN,wBAAwBM,MACvF,I,kEAjDJvO,KAAKwO,8B,kDAGqB,IAAD,OACzBxO,KAAK+C,aAAemF,GAAgBuG,4BAChC,SAAC1F,GAAD,OAAgC,EAAK9F,SAAS,CAAE8F,kB,6CAmB/B,IAAD,EACpB,UAAA/I,KAAK+C,oBAAL,SAAmB+J,gB,+BA4BnB,OACI,yBAAKjO,UAAU,sBACX,yBAAKA,UAAU,+BACX,yBAAKA,UAAU,kBACX,2BAnEP,aAqEG,yBAAKA,UAAU,gBACTmB,KAAKmO,kBAGf,6BACMnO,KAAKqO,4B,GAxEK7K,aA+E1BkL,GAA8B,kBAAO,kBAAC,GAAD,CAAmBb,SAAW,kBAAC,GAAD,S,OC1F1Dc,OATf,WACI,OACI,yBAAK9P,UAAU,wBACX,kBAAC,GAAD,MACA,kBAAC,GAAD,Q,OCqBG+P,OArBf,YAA8D,IAAjCC,EAAgC,EAAhCA,SAErBC,EAIAD,EAJAC,QACAC,EAGAF,EAHAE,UACAC,EAEAH,EAFAG,KACAlO,EACA+N,EADA/N,MAGEgE,EAAK,iBAAckK,GAEzB,OACI,kBAAC,IAAD,CAAM/K,GAAKa,GACP,yBAAKjG,UAAU,aACX,yBAAK0O,IAAMwB,EAAUxH,IAAM0H,QAAQ,OAAOzB,IAAMuB,EAAU1H,kBAC1D,4BAAMvG,GACN,2BAAKgO,MCkCNI,I,OAlDf,4MACIvP,MAAQ,CACJwP,UAAW,IAFnB,4DAKmBC,GACX,MAAO,CACHN,QAASM,EAAQC,QACjBN,UAAW,CACP1H,gBAAiB+H,EAAQE,UAAUjI,gBACnCC,QAAS8H,EAAQE,UAAUhI,QAC3BC,IAAK6H,EAAQE,UAAU/H,KAE3ByH,KAAMI,EAAQG,KACdzO,MAAOsO,EAAQjF,SAd3B,mCAkBmB,IAAD,OACV3J,MAAM,GAAD,OAAKgF,GAAL,WACAK,MAAK,SAAApF,GAAQ,OAAIA,EAASC,UAC1BmF,MAAK,SAAAtF,GAAI,OAAIA,EAAK/B,KAAI,SAACiL,GAAD,OAAoB,EAAK+F,cAAc/F,SAC7D5D,MAAK,SAAAsJ,GAAS,OAAI,EAAKlM,SAAS,CAAEkM,mBAtB/C,sCAyBqBA,GACb,OAAOA,EAAU3Q,KAAI,SAAAqQ,GAAQ,OAAK,kBAAC,GAAD,CAAmBnQ,IAAMmQ,EAASG,KAAOH,SAAWA,SA1B9F,0CA8BQ7O,KAAKyP,eA9Bb,+BAiCe,IAEHN,EACAnP,KAAKL,MADLwP,UAGJ,OACI,yBAAKtQ,UAAU,aACX,qCACA,yBAAKA,UAAU,cACTmB,KAAK0P,gBAAgBP,SA1C3C,GAAuC3L,c,OC0BxBmM,OAxBf,YAAoE,IAAvCC,EAAsC,EAAtCA,SAAU1G,EAA4B,EAA5BA,KAE/B4F,EAIAc,EAJAd,QACAe,EAGAD,EAHAC,UACAb,EAEAY,EAFAZ,KACAlO,EACA8O,EADA9O,MAGEgE,EAAK,gBAAakK,GAExB,OACI,yBAAKnQ,UAAS,oBAAiBqK,IAC3B,kBAAC,IAAD,CAAMjF,GAAKa,GACP,yBAAKyI,IAAMsC,EAAUtI,IAAM0H,QAAQ,OAAOzB,IAAMqC,EAAUxI,kBAC1D,yBAAKxI,UAAU,kBACX,4BAAMiC,GACN,uBAAGjC,UAAU,qBAAsBiQ,OCwFxCgB,I,OAtGf,4MACInQ,MAAQ,CACJoQ,UAAW,GACXC,KAAM,EACNf,SAAS,EACT1F,KAAK,GALb,EA8EI0G,aAAe,SAACC,GAAgB,IAAD,EACF,EAAKvQ,MAAtBsP,EADmB,EACnBA,QAAS1F,EADU,EACVA,IAEb2G,EAAMpR,OAAOqR,aAAeD,EAAMpR,OAAOsR,UAnF5B,MAoFZnB,IAAY1F,GAAO,EAAK8G,aAlFrC,4DAQmBC,GACX,MAAO,CACHxB,QAASwB,EAAQjB,QACjBQ,UAAW,CACPxI,gBAAiBiJ,EAAQC,UAAUlJ,gBACnCC,QAASgJ,EAAQC,UAAUjJ,QAC3BC,IAAK+I,EAAQC,UAAUhJ,KAE3ByH,KAAMsB,EAAQf,KACdzO,MAAOwP,EAAQnG,MACfqG,YAAaF,EAAQG,eAlBjC,sCAsBqB9E,EAAiBC,GAC9B,OAAOlD,KAAOkD,EAAO4E,aAAaE,KAAKhI,KAAOiD,EAAM6E,gBAvB5D,qCA0BoBT,GACZ,GAAIA,GAAaA,EAAUzB,OAAQ,CAC/B,IAAMqC,EAAQ,uBAAK3Q,KAAKL,MAAMoQ,WAAhB,aAA8BA,IAAYtE,KAAKzL,KAAK4Q,iBAElE5Q,KAAKiD,SAAS,CACV8M,UAAWY,EACX1B,SAAS,EACTe,KAAMhQ,KAAKL,MAAMqQ,KAAO,SAG5BhQ,KAAKiD,SAAS,CAAEsG,KAAK,MApCjC,kCAwCkB,IAAD,OAEHF,EA7CK,EA4CMrJ,KAAKL,MAAdqQ,KAGRhQ,KAAKiD,SAAS,CAAEgM,SAAS,IAEzBzO,MAAM,GAAD,OAAKgF,GAAL,gDAA0D6D,EAA1D,mBAjDM,IAkDNxD,MAAK,SAAApF,GAAQ,OAAIA,EAASC,UAC1BmF,MAAK,SAAAtF,GAAI,OAAIA,EAAK/B,KAAI,SAACiL,GAAD,OAAoB,EAAKoH,cAAcpH,SAC7D5D,MAAK,SAAAkK,GAAS,OAAI,EAAKe,eAAef,QAjDnD,sCAoDqBA,GACb,OAAOA,EAAUzB,OACb,oCACI,yBAAKzP,UAAU,eACX,yBAAKA,UAAU,aACX,kBAAC,GAAD,CAAmBH,IAAMqR,EAAU,GAAGf,KAAOY,SAAWG,EAAU,GAAK7G,KAAK,UAEhF,yBAAKrK,UAAU,cACTkR,EAAUlE,MAAM,EAAG,GAAGrN,KAAI,SAAAoR,GAAQ,OAChC,kBAAC,GAAD,CAAmBlR,IAAMkR,EAASZ,KAAOY,SAAWA,EAAW1G,KAAK,eAIhF,yBAAKrK,UAAU,cACTkR,EAAUlE,MAAM,EAAGkE,EAAUzB,QAAQ9P,KAAI,SAAAoR,GAAQ,OAC/C,kBAAC,GAAD,CAAmBlR,IAAMkR,EAASZ,KAAOY,SAAWA,EAAW1G,KAAK,eAIhF,OAvEZ,0CA2EQlJ,KAAKqQ,cA3Eb,+BAsFe,IAEHN,EACA/P,KAAKL,MADLoQ,UAGJ,OACI,yBAAKgB,SAAW/Q,KAAKiQ,aAAepR,UAAU,aAC1C,yBAAKA,UAAU,cACTmB,KAAKgR,gBAAgBjB,SA9F3C,GAAuCvM,cC0ExByN,I,OA9Ef,4MACItR,MAAQ,CACJuR,aAAc,IAFtB,+DAKsBzH,GACd,MAAO,CACH3I,MAAO2I,EAAM0H,KACbhG,MAAO1B,EAAM2H,SAAS,eACtB7J,IAAKkC,EAAMlC,IACX8J,KAAM5H,EAAM6H,aACZtC,KAAMvF,EAAMuF,QAXxB,wCAeuBuC,GAAyC,IAAD,OACvD,OAAKA,GAAgBA,EAAYhR,MAASgR,EAAYhR,KAAK+N,OAIpDiD,EAAYhR,KAAK/B,KAAI,SAACiL,GAAD,OAAgB,EAAK+H,iBAAiB/H,MAHvD,OAjBnB,sCAuBsB,IAAD,OACLuF,EAAShP,KAAKmD,MAAd6L,KAERxO,MAAM,iDAAD,OAAmDwO,EAAnD,iBACAnJ,MAAK,SAAApF,GAAQ,OAAIA,EAASC,UAC1BmF,MAAK,SAAA4L,GAAQ,uBAAI,EAAKC,kBAAkBD,UAA3B,aAAI,EAAkCE,UAAU9F,MAAM,EAAG,MACtEhG,MAAK,SAAAqL,GAAY,OAAI,EAAKjO,SAAS,CAAEiO,sBA7BlD,wCAgCuBU,GACf,IAAMlT,EAAG,UAAOkT,EAAQ5C,KAAf,aAAyB,IAAI7P,MAAOC,WACvCiS,EAAO,IAAIlS,KAAKyS,EAAQP,MAAMxI,cAAcgD,MAAM,EAAE,IAAIgG,MAAM,KAAKF,UAAUG,KAAK,KAExF,OACI,uBAAGpT,IAAMA,EAAMC,KAAOiT,EAAQrK,KAC1B,yBAAK1I,UAAU,qBACX,yBAAKA,UAAU,gBAAgB0O,IAAMqE,EAAQzG,MAAQqC,IAAMoE,EAAQ9Q,QACnE,yBAAKjC,UAAU,uBACX,4BAAM+S,EAAQ9Q,OACd,2BAAKuQ,QA1C7B,yCAiDwBU,GAA0B,IAAD,OACzC,OAAOA,EACH,oCACI,+CACA,yBAAKlT,UAAU,iBACTkT,EAASvT,KAAI,SAAAoT,GAAO,OAAI,EAAKI,kBAAkBJ,QAGzD,OAzDZ,0CA6DQ5R,KAAKiS,kBA7Db,+BAgEe,IAEHf,EACAlR,KAAKL,MADLuR,aAGJ,OACI,yBAAKrS,UAAU,gBACTmB,KAAKkS,mBAAmBhB,QAvE1C,GAA2C1N,cCyE5B2O,I,OAhEf,4MACIxS,MAA4B,CACxB4L,KAAM,MAFd,wDAKc6D,GACN,OAAOA,EAAU,CACbhF,YAAagF,EAAQ/E,YACrB0E,UAAW,CACP1H,gBAAiB+H,EAAQE,UAAUjI,gBACnCC,QAAS8H,EAAQE,UAAUhI,QAC3BC,IAAK6H,EAAQE,UAAU/H,KAE3BzG,MAAOsO,EAAQjF,MACfiI,UAAW,CACP1O,SAAU0L,EAAQiD,SAAS3O,SAC3B4O,QAASlD,EAAQiD,SAASC,QAC1BC,OAAQnD,EAAQiD,SAASE,OACzBC,QAASpD,EAAQiD,SAASG,QAC1B7O,SAAUyL,EAAQiD,SAAS1O,SAC3BC,GAAIwL,EAAQiD,SAASzO,GACrBE,UAAWsL,EAAQiD,SAASvO,UAC5BC,SAAUqL,EAAQiD,SAAStO,WAE/B,OAxBZ,kCA2BkB,IAAD,OACDiL,EAAShP,KAAKmD,MAAd6L,KAERxO,MAAM,GAAD,OAAKgF,GAAL,uBAAiCwJ,IACjCnJ,MAAK,SAAApF,GAAQ,OAAIA,EAASC,UAC1BmF,MAAK,SAACtF,GAAD,OAAqB,EAAKkS,UAAUlS,EAAK,OAC9CsF,MAAK,SAAA0F,GAAI,OAAI,EAAKtI,SAAS,CAAEsI,cAjC1C,0CAsCQvL,KAAK0S,cAtCb,+BAyCe,IACCnH,EAASvL,KAAKL,MAAd4L,KACAyD,EAAShP,KAAKmD,MAAd6L,KACF2D,EAAWpH,EAAOA,EAAKwD,UAAUxH,IAAM,GAE7C,OAAOgE,EACH,6BAAS1M,UAAU,QACf,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,eACX,4BAAM0M,EAAKzK,OACX,2BAAKyK,EAAKnB,aACV,kBAAC,EAAD,CAAsBhM,YAAcmN,EAAK6G,aAE7C,yBAAKvT,UAAU,cACX,yBAAK0O,IAAMoF,EAAW1D,QAAQ,OAAOzB,IAAMjC,EAAKwD,UAAU1H,oBAGlE,kBAAC,GAAD,CAAuB2H,KAAOA,KAElC,SA5DZ,GAAmCxL,c,oBCwEpBoP,I,OAtEf,4MACIjT,MAA4B,CACxBkT,KAAM,MAFd,wDAKcvC,GACN,OAAOA,EAAU,CACbxP,MAAOwP,EAAQnG,MACf2I,QAASxC,EAAQyC,QACjBC,QAAS1C,EAAQ2C,QACjBC,SAAU5C,EAAQ6C,SAClBrE,QAAUwB,EAAQjB,QAClBL,KAAMsB,EAAQf,KACdiB,YAAaF,EAAQG,YACrBZ,UAAW,CACPxI,gBAAiBiJ,EAAQC,UAAUlJ,gBACnCC,QAASgJ,EAAQC,UAAUjJ,QAC3BC,IAAK+I,EAAQC,UAAUhJ,MAE3B,OAnBZ,kCAsBkB,IAAD,OACDyH,EAAShP,KAAKmD,MAAd6L,KAERxO,MAAM,GAAD,OAAKgF,GAAL,uBAAiCwJ,IACjCnJ,MAAK,SAAApF,GAAQ,OAAIA,EAASC,UAC1BmF,MAAK,SAACtF,GAAD,OAAqB,EAAK6S,UAAU7S,EAAK,OAC9CsF,MAAK,SAAAgN,GAAI,OAAI,EAAK5P,SAAS,CAAE4P,cA5B1C,0CAiCQ7S,KAAKqQ,cAjCb,+BAoCe,IACCwC,EAAS7S,KAAKL,MAAdkT,KACFF,EAAWE,EAAOA,EAAKhD,UAAUtI,IAAM,GACvC8L,EAAa,CACfC,iBAAkB,YAClBC,qBAAsB,QACtBC,eAAgB,QAChBC,gBAAgB,OAAD,OAAUd,EAAV,MAEbtB,EAAO3I,KAAM,OAACmK,QAAD,IAACA,OAAD,EAACA,EAAMrC,aAAakD,OA/C3B,cAgDNV,GAAc,OAAJH,QAAI,IAAJA,OAAA,EAAAA,EAAMG,SAAN,oBAA8BH,EAAKG,SAAa,GAC1DE,GAAe,OAAJL,QAAI,IAAJA,OAAA,EAAAA,EAAMK,UAAN,iBAA4BL,EAAKK,UAAc,GAEhE,OAAOL,EACH,6BAAShU,UAAU,QACf,yBAAKA,UAAU,mBAAmB8U,MAAQN,GACtC,yBAAKxU,UAAU,oBACX,wBAAIA,UAAU,cAAegU,EAAK/R,OAClC,uBAAGjC,UAAU,gBAAiBgU,EAAK/D,SACnC,uBAAGjQ,UAAU,aAAb,UACUwS,EADV,YACoB2B,EADpB,YACiCE,MAIzC,yBAAKrU,UAAU,0BACX,yBAAKA,UAAU,gBACX,kBAAC,KAAD,CAAegC,OAASgS,EAAKC,QAAUc,YAAa,OAIhE,SAlEZ,GAAmCpQ,cCsCpBqQ,I,OAhDf,4MACIlU,MAA6B,CACzBmU,MAAO,MAFf,yDAKeC,GACP,OAAOA,EAAW,CACdjT,MAAOiT,EAAS5J,MAChBC,YAAa2J,EAAShB,QACtBiB,WAAY,CACR3M,gBAAiB0M,EAASE,MAAM5M,gBAChCC,QAASyM,EAASE,MAAM3M,QACxBC,IAAKwM,EAASE,MAAM1M,MAExB,OAdZ,mCAiBmB,IAAD,OACV/G,MAAM,GAAD,OAAKgF,GAAL,WACAK,MAAK,SAAApF,GAAQ,OAAIA,EAASC,UAC1BmF,MAAK,SAACtF,GAAD,OAAoB,EAAK2T,WAAW3T,MACzCsF,MAAK,SAAAiO,GAAK,OAAI,EAAK7Q,SAAS,CAAE6Q,eArB3C,0CA0BQ9T,KAAKmU,eA1Bb,+BA6Be,IACCL,EAAU9T,KAAKL,MAAfmU,MACFnB,EAAWmB,EAAQA,EAAME,WAAWzM,IAAM,GAGhD,OAAOuM,EACH,6BAASjV,UAAU,SACf,yBAAKA,UAAU,eACX,4BAAMiV,EAAMhT,OACZ,2BAAKgT,EAAM1J,cAEf,yBAAKvL,UAAU,SACX,yBAAK0O,IAAMoF,EAAW1D,QAAQ,OAAOzB,IAAMsG,EAAME,WAAW3M,oBAGpE,SA5CZ,GAAoC7D,cCgDrB4Q,I,OAhDf,4MACIzU,MAA8B,CAC1B0U,OAAQ,MAFhB,0DAKgBC,GACR,OAAOA,EAAY,CACfxT,MAAOwT,EAAUnK,MACjBC,YAAakK,EAAUvB,QACvBwB,YAAa,CACTlN,gBAAiBiN,EAAUL,MAAM5M,gBACjCC,QAASgN,EAAUL,MAAM3M,QACzBC,IAAK+M,EAAUL,MAAM1M,MAEzB,OAdZ,oCAiBoB,IAAD,OACX/G,MAAM,GAAD,OAAKgF,GAAL,YACAK,MAAK,SAAApF,GAAQ,OAAIA,EAASC,UAC1BmF,MAAK,SAACtF,GAAD,OAAqB,EAAKiU,YAAYjU,MAC3CsF,MAAK,SAAAwO,GAAM,OAAI,EAAKpR,SAAS,CAAEoR,gBArB5C,0CA0BQrU,KAAKyU,gBA1Bb,+BA6Be,IACCJ,EAAWrU,KAAKL,MAAhB0U,OACF1B,EAAW0B,EAASA,EAAOE,YAAYhN,IAAM,GAGnD,OAAO8M,EACH,6BAASxV,UAAU,SACf,yBAAKA,UAAU,eACX,4BAAMwV,EAAOvT,OACb,yBAAKjC,UAAU,gBAAiBwV,EAAOjK,cAE3C,yBAAKvL,UAAU,SACX,yBAAK0O,IAAMoF,EAAW1D,QAAQ,OAAOzB,IAAM6G,EAAOE,YAAYlN,oBAGtE,SA5CZ,GAAqC7D,c,OC6BtBQ,oBAff,WACI,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOE,OAAK,EAACC,KAAK,IAAIuQ,UAAY/F,KAClC,kBAAC,IAAD,CAAOzK,OAAK,EAACC,KAVR,YAU0BuQ,UAAYhG,KAC3C,kBAAC,IAAD,CAAOxK,OAAK,EAACC,KAVX,SAU0BuQ,UAAYxF,KACxC,kBAAC,IAAD,CAAO/K,KAAI,UAXT,SAWS,UAAwBuQ,UAAW,SAACC,GAAD,OAAsB,kBAAC,GAAD,CAAe3F,KAAM2F,EAAYC,MAAMC,OAAO7F,UAClH,kBAAC,IAAD,CAAO9K,OAAK,EAACC,KAXZ,QAW0BuQ,UAAY5E,KACvC,kBAAC,IAAD,CAAO3L,KAAI,UAZV,QAYU,UAAuBuQ,UAAW,SAACC,GAAD,OAAsB,kBAAC,GAAD,CAAe3F,KAAM2F,EAAYC,MAAMC,OAAO7F,UACjH,kBAAC,IAAD,CAAO9K,OAAK,EAACC,KAZX,SAY0BuQ,UAAYb,KACxC,kBAAC,IAAD,CAAO3P,OAAK,EAACC,KAZV,UAY0BuQ,UAAYN,S,OCJtCpQ,oBAdf,WACI,OACI,8BACI,kBAAC,GAAD,MACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOE,OAAK,EAACC,KAAK,IAAIC,OAClB,SAAAjB,GAAK,OAAI,kBAAC,GAAD,iBAAsBA,EAAtB,CAA8B/B,WAAajD,EAAYsD,YAGxE,kBAAC,GAAD,UC2BGqT,I,OA3Cf,4MACInV,MAAQL,EADZ,EAEIyD,aAAoC,KAFxC,kEAKQ/C,KAAKgD,iCALb,qDAQqC,IAAD,OAC5BhD,KAAK+C,aAAerD,EAAcqV,+BAC9B,SAACxU,GAAD,OAAuB,EAAK0C,SAAS1C,QAVjD,6CAc6B,IAAD,EACpB,UAAAP,KAAK+C,oBAAL,SAAmB+J,gBAf3B,+BAkBe,IAAD,EAKF9M,KAAKL,MAHLJ,EAFE,EAEFA,QACAC,EAHE,EAGFA,MACAC,EAJE,EAIFA,OAGJ,OACI,yBAAKZ,UAAU,SACX,kBAAC,KAAD,CACI0I,I5BpCM,uC4BqCNhI,QAAUA,EACVC,MAAQA,EACRC,OAASA,EACTuV,OAAQ,CACJC,KAAM,CACFC,YAAY,WAlCxC,GAA4B1R,c,OCab2R,OAVf,WACI,OACI,kBAAC,IAAD,KACI,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,QCbZC,IAAShR,OACP,kBAAC,IAAMiR,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.2a0671e8.chunk.js","sourcesContent":["export enum Socials {\r\n    Castbox = 'castbox',\r\n    Itunes = 'itunes',\r\n    Mixcloud = 'mixcloud',\r\n    Spotify = 'spotify',\r\n    Facebook = 'facebook',\r\n    Vk = 'vk',\r\n    Email = 'email',\r\n    Instagram = 'instagram',\r\n    Telegram = 'telegram',\r\n    GooglePlay = 'googlePlay',  \r\n}\r\n\r\nexport type SocialLinks = {\r\n    [key in Socials]?: string;\r\n}\r\n\r\nexport interface StrapiObjectDto {\r\n    createdAt: string;\r\n    id: string;\r\n    updatedAt: string;\r\n    __v: number;\r\n    _id: number;\r\n}\r\n\r\nexport interface ImageDto {\r\n    ext: string;\r\n    hash: string;\r\n    height: number;\r\n    mime: string;\r\n    size: number;\r\n    url: string;\r\n    width: number;\r\n}\r\n\r\nexport interface FormatsDto {\r\n    thumbnail?: ImageDto;\r\n}\r\n\r\nexport interface CoverDto extends StrapiObjectDto, ImageDto {\r\n    alternativeText: string;\r\n    caption: string;\r\n    formats: FormatsDto;\r\n    name: string;\r\n    provider: string;\r\n    related: string[];\r\n}\r\n\r\nexport interface SimpleImage {\r\n    alternativeText?: string;\r\n    caption?: string;\r\n    url?: string;\r\n}\r\n","import React from 'react'\r\n\r\nimport { Icon } from '@iconify/react';\r\nimport mixcloudIcon from '@iconify/icons-cib/mixcloud';\r\nimport spotifyIcon from '@iconify/icons-cib/spotify';\r\nimport itunesIcon from '@iconify/icons-ps/itunes';\r\nimport castboxIcon from '@iconify/icons-simple-icons/castbox';\r\nimport facebookIcon from '@iconify/icons-cib/facebook';\r\nimport vkIcon from '@iconify/icons-cib/vk';\r\nimport mailRu from '@iconify/icons-cib/mail-ru';\r\nimport instagramIcon from '@iconify/icons-cib/instagram';\r\nimport telegramIcon from '@iconify/icons-cib/telegram';\r\nimport googlePlay from '@iconify/icons-cib/google-play';\r\n\r\nimport { SocialLinks, Socials } from '../interfaces';\r\n\r\nimport './SocialLinksComponent.css'\r\n\r\nconst SOCIAL_ICONS = new Map<string, object>([\r\n    [ Socials.Mixcloud, mixcloudIcon ],\r\n    [ Socials.Spotify, spotifyIcon ],\r\n    [ Socials.Itunes, itunesIcon ],\r\n    [ Socials.Castbox, castboxIcon ],\r\n    [ Socials.Facebook, facebookIcon ],\r\n    [ Socials.Vk, vkIcon ],\r\n    [ Socials.Email, mailRu ],\r\n    [ Socials.Instagram, instagramIcon ],\r\n    [ Socials.Telegram, telegramIcon ],\r\n    [ Socials.GooglePlay, googlePlay ],\r\n]);\r\n\r\ninterface SocialLinksProperties {\r\n    socialLinks: SocialLinks;\r\n}\r\n\r\nfunction buildSocialLink (key: string, href: string | undefined, icon: object | undefined) {\r\n    return href && icon ? (\r\n        <a className='social-link' target='_blank' key={ key } href={ href } rel='noopener noreferrer'>\r\n            <Icon className='social-icon' icon={ icon } width='1.5em' color='white'/>\r\n        </a>\r\n    ) : (null);\r\n}\r\n\r\nfunction SocialLinksComponent({ socialLinks }: SocialLinksProperties) {\r\n    const linkElements = Object.entries(socialLinks).map(entry => {\r\n        const key = `${ entry[0] }-${ new Date().getTime() }`;\r\n        const href = entry[1];\r\n        const icon = SOCIAL_ICONS.get(entry[0]);\r\n\r\n        return buildSocialLink(key, href, icon);\r\n    });\r\n\r\n    return (\r\n        <div className='social-icons'>\r\n            { linkElements }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SocialLinksComponent;","export enum PlayerTypes {\r\n    Main = 'main',\r\n    Header = 'header'\r\n};","import { PlayerState } from './interfaces';\r\n\r\nexport const STREAM_URL = 'https://radioplato.radioca.st/stream';\r\nexport const DATA_URL = 'https://radioplato.radioca.st/status-json.xsl';\r\n\r\nexport const DATA_REQUEST_INTERVAL = 15000;\r\n\r\nexport const DEFAULT_PLAYER_STATE: PlayerState = {\r\n    playing: false,\r\n    muted: false,\r\n    volume: 1\r\n};\r\n","import { Subject } from 'rxjs'\r\n\r\nimport { PlayerState } from './interfaces';\r\nimport { DEFAULT_PLAYER_STATE, DATA_URL, DATA_REQUEST_INTERVAL } from './constants';\r\n\r\nclass PlayerService {\r\n    private playerState: PlayerState;\r\n    private track = '';\r\n    private playerStateSubject: Subject<PlayerState>;\r\n    private trackNameSubject: Subject<string>;\r\n\r\n    constructor (state: PlayerState) {\r\n        this.playerState = state;\r\n        this.playerStateSubject = new Subject();\r\n        this.trackNameSubject = new Subject();\r\n\r\n        this.updateTrackName();\r\n        setInterval(this.updateTrackName.bind(this), DATA_REQUEST_INTERVAL);\r\n    }\r\n\r\n    set playing (isPlaying: boolean) {\r\n        this.playerState.playing = isPlaying;\r\n        this.playerStateSubject.next(this.playerState);\r\n    }\r\n\r\n    get playing () {\r\n        return this.playerState.playing;\r\n    }\r\n\r\n    set volume (volumeLevel: number) {\r\n        this.playerState.volume = volumeLevel;\r\n        this.playerStateSubject.next(this.playerState);\r\n    }\r\n\r\n    get volume () {\r\n        return this.playerState.volume;\r\n    }\r\n\r\n    set muted (isMuted: boolean) {\r\n        this.playerState.muted = isMuted;\r\n        this.playerStateSubject.next(this.playerState);\r\n    }\r\n\r\n    get muted () {\r\n        return this.playerState.muted;\r\n    }\r\n\r\n    get trackName () {\r\n        return this.track;\r\n    }\r\n\r\n    subscribeOnPlayerStateChanges (onNext: Function) {\r\n        return this.playerStateSubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    subscribeOnTrackNameChanges (onNext: Function) {\r\n        return this.trackNameSubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    async updateTrackName () {\r\n        const response = await fetch(DATA_URL);\r\n        const data = await response.json();\r\n        const trackName = data.icestats.source[0].title;\r\n\r\n        if (trackName !== this.track) {\r\n            this.track = trackName;\r\n            this.trackNameSubject.next(this.track);\r\n        }\r\n    }\r\n}\r\n\r\nconst playerService = new PlayerService(DEFAULT_PLAYER_STATE);\r\n\r\nexport { playerService };","import React, { useState } from 'react';\r\n\r\nimport { Icon } from '@iconify/react';\r\nimport playIcon from '@iconify/icons-el/play';\r\nimport pauseIcon from '@iconify/icons-el/pause';\r\n\r\nimport { playerService } from '../../PlayerService';\r\nimport { PlayerProps } from '../../interfaces';\r\nimport { PlayerTypes } from '../../../enums';\r\n\r\nimport './PlayButton.css';\r\n\r\n\r\nconst SMALL_ICON = 10;\r\nconst LARGE_ICON = 35;\r\n\r\nfunction PlayButton({ playerType }: PlayerProps) {\r\n    const [ playing, setPlayingMode ] = useState(playerService.playing);\r\n\r\n    const togglePlayingMode = () => {\r\n        playerService.playing = !playerService.playing;\r\n        setPlayingMode(playerService.playing);\r\n    }\r\n\r\n    const isMainPlayer = () => {\r\n        return playerType === PlayerTypes.Main;\r\n    }\r\n\r\n    const renderIcon = (icon: object) => {\r\n        const size = isMainPlayer() ? LARGE_ICON : SMALL_ICON;\r\n\r\n        return <Icon icon={ icon } width={ size } height={ size }/>;\r\n    }\r\n\r\n    return (\r\n        <button \r\n            className='play-button'\r\n            onClick={ togglePlayingMode }\r\n        >\r\n            { playing ? renderIcon(pauseIcon) : renderIcon(playIcon) }\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default PlayButton;","import React, { useState } from 'react';\r\n\r\nimport ReactSlider from 'react-slider';\r\nimport { Icon } from '@iconify/react';\r\nimport bxsVolumeFull from '@iconify/icons-bx/bxs-volume-full';\r\nimport bxsVolumeMute from '@iconify/icons-bx/bxs-volume-mute';\r\n\r\nimport { playerService } from '../../PlayerService';\r\n\r\nimport './VolumeControls.css';\r\n\r\nconst FullVolumeIcon = <Icon icon={ bxsVolumeFull } width={ 16 } height={ 16 } color='#ffffff'/>;\r\nconst MuteVolumeIcon = <Icon icon={ bxsVolumeMute } width={ 16 } height={ 16 } color='#ffffff'/>;\r\n\r\nfunction VolumeControls() {\r\n    const [ muted, setVolumeMode ] = useState(playerService.muted);\r\n    \r\n    const toggleVolumeMode = () => {\r\n        playerService.muted = !playerService.muted;\r\n        setVolumeMode(playerService.muted);\r\n    }\r\n\r\n    const changeVolume = (value: any) => {\r\n        playerService.volume = value / 100;\r\n    }\r\n\r\n    const sliderDefaultValue = () => {\r\n        const value = playerService.volume * 100;\r\n        \r\n        return Math.trunc(value);\r\n    }\r\n\r\n    return (\r\n        <div className='volume-controls'>\r\n            <button \r\n                className='volume-mode-button'\r\n                onClick={ toggleVolumeMode }\r\n            >\r\n                { muted ? FullVolumeIcon : MuteVolumeIcon }\r\n            </button>\r\n            <ReactSlider\r\n                className='horizontal-slider'\r\n                thumbClassName='thumb'\r\n                trackClassName='track'\r\n                defaultValue={ sliderDefaultValue() }\r\n                onChange={ value => changeVolume(value)}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default VolumeControls;","import React, { Component } from 'react';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport PlayButton from '../PlayerControls/PlayButton/PlayButton';\r\nimport VolumeControls from '../PlayerControls/VolumeControls/VolumeControls';\r\nimport { playerService } from '../PlayerService';\r\nimport { PlayerProps } from '../interfaces';\r\nimport { PlayerTypes } from '../../enums';\r\n\r\nimport './PlayerComponent.css';\r\n\r\n\r\nconst ONAIR = 'onair';\r\n\r\nexport class PlayerComponent extends Component<PlayerProps> {\r\n    state = {\r\n        trackName: ''\r\n    };\r\n    subscription: Subscription | null = null;\r\n\r\n    get isMainPlayer () {\r\n        return this.props.playerType === PlayerTypes.Main;\r\n    }\r\n\r\n    get className () {\r\n        return `${ this.props.playerType }-player`;\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.subscribeOnPlayerStateChange();\r\n        this.setState({\r\n            trackName: playerService.trackName\r\n        });\r\n    }\r\n\r\n    subscribeOnPlayerStateChange () {\r\n        this.subscription = playerService.subscribeOnTrackNameChanges(\r\n            (trackName: string) => this.setState({ trackName })\r\n        );\r\n    }\r\n    \r\n    renderMainPlayer (trackName: string) {\r\n        return (\r\n            <>\r\n                <div className='controls-container'>\r\n                    <PlayButton playerType={ this.props.playerType }/>\r\n                    <VolumeControls />\r\n                </div>\r\n                <p className='onair'>{ ONAIR }</p>\r\n                <p className='track-title'>{ trackName }</p>\r\n            </>\r\n        );\r\n    }\r\n\r\n    renderHeaderPlayer (trackName: string) {\r\n        return (\r\n            <>\r\n                <PlayButton playerType={ this.props.playerType }/>\r\n                <div className='track-title'>\r\n                    <p>{ trackName }</p>\r\n                </div>\r\n                <VolumeControls />\r\n            </>\r\n        );\r\n    }\r\n\r\n    renderPlayer () {\r\n        const {\r\n            trackName\r\n        } = this.state;\r\n\r\n        return this.isMainPlayer ?\r\n            this.renderMainPlayer(trackName) :\r\n            this.renderHeaderPlayer(trackName);\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className={ this.className }>\r\n                { this.renderPlayer() }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PlayerComponent;\r\n","import React from 'react'\r\n\r\nimport {\r\n  Link,\r\n  withRouter,\r\n  Switch,\r\n  Route\r\n} from 'react-router-dom';\r\n\r\nimport { Icon } from '@iconify/react';\r\nimport bxSearch from '@iconify/icons-bx/bx-search';\r\n\r\nimport SocialLinksComponent from '../shared/SocialLinksComponent/SocialLinksComponent';\r\nimport PlayerComponent from '../shared/Player/PlayerComponent/PlayerComponent';\r\nimport { SocialLinks } from '../shared/interfaces';\r\nimport { PlayerTypes } from '../shared/enums';\r\n\r\nimport './Header.css'\r\n\r\n\r\nconst RADIO_PLATO = 'Radio Plato';\r\nconst DONATE = 'Donate';\r\n\r\nconst HEADER_SOCIAL_LINKS: SocialLinks = {\r\n    mixcloud: 'https://www.mixcloud.com/radioplato/',\r\n    facebook: 'https://www.facebook.com/radioplato.by/',\r\n    vk: 'https://vk.com/radioplato',\r\n    email: 'mailto:hey@radioplato.by',\r\n    instagram: 'https://www.instagram.com/radio_plato/',\r\n    telegram: 'https://t.me/radioplato',\r\n    googlePlay: 'https://play.google.com/store/apps/details?id=com.radioplato'\r\n}\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className='header-container'>\r\n            <Link to='/' className='logo-text'>{ RADIO_PLATO }</Link>\r\n            <div className='social-container'>\r\n                <Switch>\r\n                    <Route exact path='/' render={\r\n                        props => (<SocialLinksComponent { ...props } socialLinks={ HEADER_SOCIAL_LINKS }/>)\r\n                    }/>\r\n                    <Route path='/' render={\r\n                        props => (<PlayerComponent { ...props } playerType={ PlayerTypes.Header }/>)\r\n                    }/>\r\n                </Switch>\r\n                <Link to='/donate' className='donate'>{ DONATE }</Link>\r\n                <div className='search-icon'>\r\n                    <Icon icon={ bxSearch } width='1.8em' color='white'/>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n  \r\nexport default withRouter(Header);","import React from 'react'\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Icon } from '@iconify/react';\r\nimport crossIcon from '@iconify/icons-gridicons/cross';\r\n\r\nimport './Menu.css'\r\n\r\n\r\nconst PAGES = [\r\n    'News',\r\n    'Shows',\r\n    'Schedule',\r\n    'About'\r\n];\r\n\r\ninterface MenuParameters {\r\n    menuRef: React.RefObject<HTMLDivElement>;\r\n    wrapperRef: React.RefObject<HTMLDivElement>;\r\n    toggleMenu: () => void;\r\n}\r\n\r\nfunction Menu({ menuRef, wrapperRef, toggleMenu }: MenuParameters) {\r\n\r\n    const buildMenuItem = (title: string) => {\r\n        const route = `/${ title.toLowerCase() }`;\r\n\r\n        return (\r\n            <li className='menu-item' key={ title }>\r\n                <Link to={ route } onClick={ toggleMenu }>{ title }</Link>\r\n            </li>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className='wrapper' ref={ wrapperRef } onClick={ toggleMenu } />\r\n            <nav ref={ menuRef }>\r\n                <div className='close-button-container'>\r\n                    <button \r\n                        className='close-button'\r\n                        onClick={ toggleMenu }\r\n                    >\r\n                        <Icon icon={ crossIcon } width={ 48 } height={ 48 }/>    \r\n                    </button>\r\n                </div>\r\n                <div className='menu-items-container'>\r\n                    <ul className='menu-items'>\r\n                        { PAGES.map(title => buildMenuItem(title)) }\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        </>     \r\n    );\r\n  }\r\n  \r\n  export default Menu","import React from 'react'\r\n\r\nimport Menu from '../Menu';\r\n\r\nimport './MenuButton.css'\r\n\r\n\r\nconst MENU = 'menu';\r\n\r\nfunction MenuButton() {\r\n    const menuRef = React.createRef<HTMLDivElement>()\r\n    const wrapperRef = React.createRef<HTMLDivElement>()\r\n    \r\n    const toggleMenu = () => {\r\n        wrapperRef.current?.classList.toggle('wrapper-show');\r\n        menuRef.current?.classList.toggle('menu-open');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Menu menuRef={ menuRef } wrapperRef={ wrapperRef } toggleMenu={ toggleMenu }/>\r\n            <div className='menuButton' onClick={ toggleMenu }>\r\n                <p className='label'>{ MENU }</p>\r\n            </div>\r\n        </>\r\n    );\r\n  }\r\n  \r\n  export default MenuButton","export enum IndexesOfDay {\r\n    Monday = 0,\r\n    Tuesday,\r\n    Wednesday,\r\n    Thursday,\r\n    Friday,\r\n    Saturday,\r\n    Sunday\r\n};","export const BACKEND_URL = 'https://radioplato-api.herokuapp.com';","import { Subject } from \"rxjs\";\r\n\r\nimport { IndexGallery, IndexGalleryDto } from \"./interfaces\";\r\nimport { CoverDto, SimpleImage } from \"../shared/interfaces\";\r\nimport { BACKEND_URL } from \"../shared/constants\";\r\n\r\n\r\nconst GALLERY_REQUEST_INTERVAL = 300000;\r\n\r\nclass GalleryService {\r\n    private indexGallery: IndexGallery | null = null;\r\n    private gallerySubject: Subject<IndexGallery | null>;\r\n\r\n    constructor () {\r\n        this.gallerySubject = new Subject();\r\n\r\n        this.fetchIndexGallery();\r\n        setInterval(this.fetchIndexGallery.bind(this), GALLERY_REQUEST_INTERVAL);\r\n    }\r\n\r\n    get gallery (): IndexGallery | null {\r\n        return this.indexGallery;\r\n    }\r\n\r\n    set gallery (gallery: IndexGallery | null) {\r\n        this.indexGallery = gallery;\r\n        gallery && this.gallerySubject.next(gallery);\r\n    }\r\n\r\n    subscribeOnGalleryChanges (onNext: Function) {\r\n        return this.gallerySubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    async fetchIndexGallery () {\r\n        await fetch(`${ BACKEND_URL }/index-gallery`)\r\n            .then(response => response.json())\r\n            .then(data => this.parseIndexGallery(data))\r\n            .then(indexGallery => this.updateIndexGallery(indexGallery));\r\n    }\r\n\r\n    private parseIndexGallery (dto: IndexGalleryDto) {\r\n        return {\r\n            photoExhibition: dto.PhotoExhibition,\r\n            photoExhibitionAuthor: dto.PhotoExhibitionAuthor,\r\n            photoExhibitionDescription: dto.PhotoExhibitionDescription,\r\n            photoExhibitionLink: dto.PhotoExhibitionLink,\r\n            photoExhibitionMedia: dto.PhotoExhibitionMedia.map(imageDto => this.mapImageDto(imageDto)),\r\n            photoExhibitionTitle: dto.PhotoExhibitionTitle,\r\n            regularGallery: dto.RegularGallery.map(imageDto => this.mapImageDto(imageDto)),\r\n            video: dto.Video,\r\n            videoEmbedCode: dto.VideoEmbedCode,\r\n        }\r\n    }\r\n\r\n    private mapImageDto (imageDto: CoverDto): SimpleImage {\r\n        return {\r\n            alternativeText: imageDto.alternativeText,\r\n            caption: imageDto.caption,\r\n            url: imageDto.url\r\n        };\r\n    }\r\n\r\n    private updateIndexGallery (indexGallery: IndexGallery) {\r\n        this.gallery = indexGallery;\r\n    }\r\n}\r\n\r\nconst galleryService = new GalleryService();\r\n\r\nexport default galleryService;","import { Subject } from 'rxjs'\r\nimport moment from 'moment';\r\n\r\nimport { ScheduleShow, ScheduleDto } from \"./interfaces\";\r\nimport { IndexesOfDay } from \"./enums\";\r\nimport { BACKEND_URL } from \"../constants\";\r\n\r\n\r\nconst DATA_REQUEST_INTERVAL = 14400000;\r\nconst CURRENT_SHOW_REFRESH_INTERVAL = 300000;\r\n\r\nenum PeriodicityTypes {\r\n    SingleTime = \"SingleTime\",\r\n    Daily = \"Daily\",\r\n    Weekly = \"Weekly\",\r\n    BiWeekly = \"BiWeekly\",\r\n    EveryThirdWeek = \"Every3rdWeek\",\r\n    Monthly = \"Monthly\"\r\n}\r\n\r\nconst indexByDayName = new Map([\r\n    [ \"Monday\", IndexesOfDay.Monday ],\r\n    [ \"Tuesday\", IndexesOfDay.Tuesday ],\r\n    [ \"Wednesday\", IndexesOfDay.Wednesday ],\r\n    [ \"Thursday\", IndexesOfDay.Thursday ],\r\n    [ \"Friday\", IndexesOfDay.Friday ],\r\n    [ \"Saturday\", IndexesOfDay.Saturday ],\r\n    [ \"Sunday\", IndexesOfDay.Sunday ],\r\n]);\r\n\r\nclass ScheduleService {\r\n    private _schedule: ScheduleShow[][] = [ [], [], [], [], [], [], [] ];\r\n    private _currentShow: ScheduleShow | undefined;\r\n    private scheduleSubject: Subject<ScheduleShow[][]>;\r\n    private currentShowSubject: Subject<ScheduleShow>;\r\n\r\n    constructor () {\r\n        this.scheduleSubject = new Subject();\r\n        this.currentShowSubject = new Subject();\r\n\r\n        this.fetchSchedules();\r\n        this.updateCurrentShow();\r\n        setInterval(this.fetchSchedules.bind(this), DATA_REQUEST_INTERVAL);\r\n        setInterval(this.updateCurrentShow.bind(this), CURRENT_SHOW_REFRESH_INTERVAL);\r\n    }\r\n\r\n    set schedule (schedule: ScheduleShow[][]) {\r\n        this._schedule = schedule;\r\n        this.scheduleSubject.next(schedule);\r\n    }\r\n\r\n    get schedule () {\r\n        return this._schedule;\r\n    }\r\n\r\n    get currentShow () {\r\n        return this._currentShow;\r\n    }\r\n\r\n    set currentShow (show: ScheduleShow | undefined) {\r\n        this._currentShow = show;\r\n        this.currentShowSubject.next(show)\r\n    }\r\n\r\n    updateCurrentShow () {\r\n        const weekday = moment().isoWeekday() - 1;\r\n        const currentDate = new Date().toISOString().substr(0, 10);\r\n        const start = (showline: ScheduleShow) => moment(`${ currentDate } ${ showline.startTime }`);\r\n        const end = (showline: ScheduleShow) => moment(`${ currentDate } ${ showline.endTime }`);\r\n\r\n        this._currentShow = this.schedule[weekday].find(showline => {\r\n            return showline.type === \"Show\" && moment().isBetween(start(showline), end(showline));\r\n        });\r\n    }\r\n\r\n    async fetchSchedules () {\r\n        await fetch(`${ BACKEND_URL }/schedules`)\r\n            .then(response => response.json())\r\n            .then(data => [].concat(...data.map((datum: ScheduleDto) => this.parseScheduleLine(datum))))\r\n            .then(scheduleShows => this.organizeSchedule(scheduleShows));\r\n    }\r\n\r\n    subscribeOnScheduleChanges (onNext: Function) {\r\n        return this.scheduleSubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    subscribeOnCurrentShowChanges (onNext: Function) {\r\n        return this.currentShowSubject.subscribe(data => onNext(data));\r\n    }\r\n\r\n    private parseScheduleLine (dto: ScheduleDto): ScheduleShow[] {\r\n        return dto.OnAirDateTime.map(onAirDateTime => {\r\n            const weekdays = [];\r\n\r\n            for (const [ key, value ] of Object.entries(onAirDateTime)) {\r\n                const dayIndex = indexByDayName.get(key);\r\n                \r\n                value && dayIndex !== undefined && weekdays.push(dayIndex);\r\n            }\r\n    \r\n            return {\r\n                title: dto.Title,\r\n                description: dto.Description,\r\n                type: dto.Type,\r\n                hide: dto.Hide,\r\n                link: dto.Link,\r\n                startDate: onAirDateTime.StartDate,\r\n                startTime: onAirDateTime.StartTime,\r\n                endDate: onAirDateTime.EndDate,\r\n                endTime: onAirDateTime.EndTime,\r\n                periodicity: onAirDateTime.Periodicity,\r\n                weekdays,\r\n                image: dto ? {\r\n                    alternativeText: dto.ShowImg?.alternativeText,\r\n                    caption: dto.ShowImg?.caption,\r\n                    url: dto.ShowImg?.url\r\n                } : null\r\n            };\r\n        });\r\n    }\r\n\r\n    private organizeSchedule (scheduleShows: ScheduleShow[]) {\r\n        const schedule: ScheduleShow[][]  = [];\r\n\r\n        for (let day = IndexesOfDay.Monday; day <= IndexesOfDay.Sunday; day++) {\r\n            schedule[day] = [];\r\n\r\n            scheduleShows.forEach(show => {\r\n                this.shouldShowBeOnAir(show, day) && schedule[day].push(show)\r\n            });\r\n\r\n            schedule[day].sort(this.sortShowsByDate);\r\n        }\r\n\r\n        this.schedule = schedule;\r\n    }\r\n\r\n    private sortShowsByDate (first: ScheduleShow, second: ScheduleShow) {\r\n        return +first.startTime.slice(0, 2) - +second.startTime.slice(0, 2);\r\n    }\r\n\r\n    private shouldShowBeOnAir (show: ScheduleShow, day: IndexesOfDay): boolean {\r\n        if (show.hide) {\r\n            return false;\r\n        }\r\n\r\n        const showStartDate = moment(show.startDate);\r\n        const dateOfDay = moment().add(moment().isoWeekday() - day + 1, 'days');\r\n        const weeksPassed = +(moment().week() - showStartDate.week());\r\n\r\n        switch (show.periodicity) {\r\n            case PeriodicityTypes.Daily: \r\n                return show.weekdays.includes(day);\r\n            case PeriodicityTypes.Weekly:\r\n                return show.weekdays.includes(day);\r\n            case PeriodicityTypes.BiWeekly:\r\n                return show.weekdays.includes(day) && weeksPassed % 2 === 0;\r\n            case PeriodicityTypes.EveryThirdWeek:\r\n                return show.weekdays.includes(day) && weeksPassed % 3 === 0;\r\n            case PeriodicityTypes.SingleTime:\r\n                return showStartDate.startOf('day').isSame(dateOfDay.startOf('day'));\r\n            default: return false;\r\n        }\r\n    }\r\n}\r\n\r\nconst scheduleService = new ScheduleService();\r\n\r\nexport { scheduleService };","import React, { Component } from 'react';\r\nimport ReactPlayer from 'react-player'\r\nimport { Subscription } from 'rxjs';\r\nimport { Carousel } from 'react-responsive-carousel';\r\n\r\nimport galleryService from './GalleryService';\r\nimport { IndexGallery } from './interfaces';\r\n\r\nimport { scheduleService } from '../shared/schedule/ScheduleService';\r\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\r\nimport './GalleryComponent.css';\r\n\r\n\r\ninterface GalleryComponentState {\r\n    gallery: IndexGallery | null\r\n}\r\n\r\nclass GalleryComponent extends Component {\r\n    state: GalleryComponentState = { gallery: null };\r\n    subscription: Subscription | null = null;\r\n\r\n    componentDidMount() {\r\n        this.subscribeOnGalleryChange();\r\n        galleryService.fetchIndexGallery();\r\n    }\r\n\r\n    subscribeOnGalleryChange () {\r\n        this.subscription = galleryService.subscribeOnGalleryChanges(\r\n            (gallery: IndexGallery) => this.setState({ gallery })\r\n        );\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.subscription?.unsubscribe();\r\n    }\r\n\r\n    graphicContentSelection () {\r\n        const { gallery } = this.state;\r\n\r\n        if (!gallery) {\r\n            return null;\r\n        }\r\n\r\n        if (gallery?.video) {\r\n            return (\r\n                <ReactPlayer url={ gallery.videoEmbedCode } />\r\n            );\r\n        }\r\n\r\n        if (gallery?.photoExhibition) {\r\n            return (\r\n                <Carousel className=\"carousel\"\r\n                          showArrows={ false }\r\n                          showStatus={ false }\r\n                          showThumbs={ false }\r\n                          showIndicators={ false }\r\n                          autoPlay={ true }\r\n                          infiniteLoop={ true }\r\n                          interval={ 30000 }\r\n                >\r\n                    { gallery.photoExhibitionMedia.map(photo => (\r\n                        <div>\r\n                            <img src={ photo.url }\r\n                                 alt={ photo.alternativeText }\r\n                            />\r\n                        </div>\r\n                    ))}\r\n                </Carousel>\r\n            );\r\n        }\r\n\r\n        if (scheduleService.currentShow && scheduleService.currentShow.image) {\r\n            return (\r\n                <img className=\"gallery-image\"\r\n                     src={ scheduleService.currentShow.image.url }\r\n                     alt={ scheduleService.currentShow.image.alternativeText }\r\n                ></img>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Carousel className=\"carousel\"\r\n                      showArrows={ false }\r\n                      showStatus={ false }\r\n                      showThumbs={ false }\r\n                      showIndicators={ false }\r\n                      autoPlay={ true }\r\n                      infiniteLoop={ true }\r\n                      interval={ 30000 }\r\n            >\r\n                { gallery.regularGallery.map(photo => (\r\n                    <div>\r\n                        <img src={ photo.url }\r\n                             alt={ photo.alternativeText }\r\n                        />\r\n                    </div>\r\n                ))}\r\n            </Carousel>\r\n        );\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"visual-container\">\r\n                { this.graphicContentSelection() }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n  \r\nexport default GalleryComponent;","import React from 'react'\r\n\r\nimport { ScheduleShow } from './interfaces'\r\n\r\nimport './ScheduleShowline.css'\r\n\r\n\r\ninterface ScheduleShowlineProperties {\r\n    showline: ScheduleShow\r\n}\r\n\r\nfunction ScheduleShowline({ showline }: ScheduleShowlineProperties) {\r\n    const {\r\n        title,\r\n        description,\r\n        link,\r\n        startTime,\r\n        endTime\r\n    } = showline;\r\n    const interval = startTime && endTime ? `${ startTime.slice(0, 5) } - ${ endTime.slice(0, 5) }` : \"\";\r\n    const href = link ? link : \"\";\r\n\r\n    return (\r\n        <a href={ href }>\r\n            <div className='show-title-container'>\r\n                <div className='show-date'>\r\n                    <p>{ interval }</p>\r\n                </div>\r\n                <div className='show-title'>\r\n                    <p>{ title ? title : \"\" }</p>\r\n                </div>\r\n                <div className='show-desc'>\r\n                    <p>{ description ? description : \"\" }</p>\r\n                </div>\r\n            </div>\r\n        </a>\r\n    )\r\n  }\r\n  export default ScheduleShowline ","import React from 'react';\r\n\r\nimport \"./ScrollableWrapper.css\";\r\n\r\n\r\ninterface ScrollableWrapperProperties {\r\n    children: React.ReactNode\r\n}\r\n\r\nfunction ScrollableWrapper ({ children }: ScrollableWrapperProperties) {\r\n    return (\r\n        <div className=\"scrollable-container\">\r\n            { children }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScrollableWrapper;","import React, { Component } from 'react'\r\nimport { Subscription } from 'rxjs';\r\nimport moment from 'moment';\r\n\r\nimport ScheduleShowline from './ScheduleShowline'\r\n\r\nimport { scheduleService } from './ScheduleService';\r\n\r\nimport { ScheduleShow } from './interfaces';\r\nimport { IndexesOfDay } from './enums';\r\n\r\nimport './ScheduleComponent.css'\r\nimport ScrollableWrapper from '../scrollable-wrapper/ScrollableWrapper';\r\n\r\n\r\nconst DAYS_OF_WEEK = [\r\n    \"MON\",\r\n    \"TUE\",\r\n    \"WED\",\r\n    \"THU\",\r\n    \"FRI\",\r\n    \"SAT\",\r\n    \"SUN\"\r\n];\r\n\r\nconst SCHEDULE = \"SCHEDULE\";\r\n\r\nclass ScheduleComponent extends Component {\r\n    subscription: Subscription | null = null;\r\n    state = {\r\n        schedule: scheduleService.schedule,\r\n        selectedDay: moment().isoWeekday() - 1\r\n    };\r\n\r\n    componentDidMount () {\r\n        this.subscribeOnScheduleChange();\r\n    }\r\n\r\n    subscribeOnScheduleChange () {\r\n        this.subscription = scheduleService.subscribeOnScheduleChanges(\r\n            (schedule: ScheduleShow[][]) => this.setState({ schedule })\r\n        );\r\n    }\r\n\r\n    scheduleShowlineBuilder = (showline: ScheduleShow) => {\r\n        return (\r\n            <ScheduleShowline \r\n                showline={ showline }\r\n                key={ `${ showline.title }-${ showline.startDate }-${ showline.endDate }` }\r\n            />\r\n        );\r\n    }\r\n\r\n    selectDay = (day: IndexesOfDay) => {\r\n        this.setState({\r\n            selectedDay: day\r\n        });\r\n    };\r\n\r\n    componentWillUnmount () {\r\n        this.subscription?.unsubscribe();\r\n    }\r\n\r\n    renderButtons = () => {\r\n        const { selectedDay } = this.state;\r\n\r\n        return DAYS_OF_WEEK.map((day, index) => (\r\n            <button className={ `schedule-day-button ${ selectedDay === index ? \"active\" : \"\"}` }\r\n                    onClick={ () => this.selectDay(index) }\r\n                    key={ `${ day.toLowerCase() }-${ index }`}\r\n            >\r\n                { day }\r\n            </button>\r\n        ))\r\n    }\r\n\r\n    renderDailySchedule = () => {\r\n        const {\r\n            schedule,\r\n            selectedDay\r\n        } = this.state;\r\n\r\n        return schedule[selectedDay].length ?\r\n            schedule[selectedDay].map((playlistShow: ScheduleShow) => this.scheduleShowlineBuilder(playlistShow)) :\r\n            [];\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className='schedule-container'>\r\n                <div className='schedule-headline-container'>        \r\n                    <div className='schedule-title'>\r\n                        <p>{ SCHEDULE }</p>\r\n                    </div>\r\n                    <div className='schedule-day'>\r\n                        { this.renderButtons() }\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    { this.renderDailySchedule() }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ScrollableScheduleComponent = () => (<ScrollableWrapper children={ <ScheduleComponent /> }/>)\r\n  \r\nexport { ScheduleComponent, ScrollableScheduleComponent }","import React from 'react';\r\n\r\nimport GalleryComponent from '../gallery/GalleryComponent';\r\nimport { ScheduleComponent } from '../shared/schedule/ScheduleComponent';\r\n\r\nimport \"./StartPageComponent.css\";\r\n\r\nfunction StartPageComponent() {\r\n    return (\r\n        <div className=\"start-page-container\">\r\n            <GalleryComponent />\r\n            <ScheduleComponent />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StartPageComponent;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { ShowCard } from '../interfaces';\r\n\r\nimport './ShowCardComponent.css';\r\n\r\ninterface ShowCardParameters {\r\n    showCard: ShowCard\r\n}\r\n\r\nfunction ShowCardComponent({ showCard }: ShowCardParameters) {\r\n    const {\r\n        excerpt,\r\n        showCover,\r\n        slug,\r\n        title,\r\n    } = showCard;\r\n\r\n    const route = `/shows/${ slug }`;\r\n\r\n    return (\r\n        <Link to={ route }>\r\n            <div className=\"show-card\">\r\n                <img src={ showCover.url } loading='lazy' alt={ showCover.alternativeText }/>\r\n                <h2>{ title }</h2>\r\n                <p>{ excerpt }</p>\r\n            </div>    \r\n        </Link>\r\n    );\r\n}\r\n  \r\nexport default ShowCardComponent;","import React, { Component } from 'react';\r\n\r\nimport ShowCardComponent from './ShowCardComponent/ShowCardComponent';\r\n\r\nimport { ShowDto, ShowCard } from './interfaces';\r\nimport { BACKEND_URL } from '../shared/constants';\r\n\r\nimport './ShowListComponent.css';\r\n\r\n\r\nexport class ShowListComponent extends Component {\r\n    state = {\r\n        showCards: []\r\n    }\r\n\r\n    parseShowCard (showDto: ShowDto): ShowCard {\r\n        return {\r\n            excerpt: showDto.Excerpt,\r\n            showCover: {\r\n                alternativeText: showDto.ShowCover.alternativeText,\r\n                caption: showDto.ShowCover.caption,\r\n                url: showDto.ShowCover.url\r\n            },\r\n            slug: showDto.Slug,\r\n            title: showDto.Title\r\n        };\r\n    }\r\n\r\n    fetchShows () {\r\n        fetch(`${ BACKEND_URL }/shows`)\r\n            .then(response => response.json())\r\n            .then(data => data.map((datum: ShowDto) => this.parseShowCard(datum)))\r\n            .then(showCards => this.setState({ showCards }));\r\n    }\r\n\r\n    renderShowCards (showCards: ShowCard[]) {\r\n        return showCards.map(showCard => (<ShowCardComponent key={ showCard.slug } showCard={ showCard }></ShowCardComponent>))\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.fetchShows();\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            showCards\r\n        } = this.state;\r\n\r\n        return (\r\n            <div className=\"show-list\">\r\n                <h1>Shows</h1>\r\n                <div className=\"show-cards\">\r\n                    { this.renderShowCards(showCards) }\r\n                </div>\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n  \r\nexport default ShowListComponent;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { NewsCard } from '../interfaces';\r\n\r\nimport './NewsCardComponent.css';\r\n\r\ninterface NewsCardParameters {\r\n    newsCard: NewsCard,\r\n    type?: string\r\n}\r\n\r\nfunction NewsCardComponent({ newsCard, type }: NewsCardParameters) {\r\n    const {\r\n        excerpt,\r\n        newsCover,\r\n        slug,\r\n        title,\r\n    } = newsCard;\r\n\r\n    const route = `/news/${ slug }`;\r\n\r\n    return (\r\n        <div className={ `news-card ${ type }` }>\r\n            <Link to={ route }>\r\n                <img src={ newsCover.url } loading='lazy' alt={ newsCover.alternativeText }/>\r\n                <div className=\"news-card-text\">\r\n                    <h2>{ title }</h2>\r\n                    <p className=\"news-card-excerpt\">{ excerpt }</p>\r\n                </div>\r\n                  \r\n            </Link>\r\n        </div>\r\n    );\r\n}\r\n  \r\nexport default NewsCardComponent;","import React, { Component } from 'react';\r\n\r\nimport NewsCardComponent from './NewsCardComponent/NewsCardComponent';\r\n\r\nimport { NewsDto, NewsCard } from './interfaces';\r\nimport { BACKEND_URL } from '../shared/constants';\r\n\r\nimport './NewsListComponent.css';\r\nimport moment from 'moment';\r\n\r\n\r\nconst NEWS_LIMIT = 9;\r\nconst VISIBILITY_LIMIT = 800;\r\n\r\nexport class NewsListComponent extends Component {\r\n    state = {\r\n        newsCards: [],\r\n        page: 0,\r\n        loading: false,\r\n        end: false\r\n    }\r\n\r\n    parseNewsCard (newsDto: NewsDto): NewsCard {\r\n        return {\r\n            excerpt: newsDto.Excerpt,\r\n            newsCover: {\r\n                alternativeText: newsDto.PostCover.alternativeText,\r\n                caption: newsDto.PostCover.caption,\r\n                url: newsDto.PostCover.url\r\n            },\r\n            slug: newsDto.Slug,\r\n            title: newsDto.Title,\r\n            publishDate: newsDto.PublishDate\r\n        };\r\n    }\r\n\r\n    sortCardsByDate (first: NewsCard, second: NewsCard) {\r\n        return moment(second.publishDate).diff(moment(first.publishDate));\r\n    }\r\n\r\n    handleResponse (newsCards: NewsCard[]) {\r\n        if (newsCards && newsCards.length) {\r\n            const cards = [ ...this.state.newsCards, ...newsCards ].sort(this.sortCardsByDate);\r\n\r\n            this.setState({\r\n                newsCards: cards,\r\n                loading: false,\r\n                page: this.state.page + 1\r\n            });\r\n        } else {\r\n            this.setState({ end: true });\r\n        }\r\n    }\r\n\r\n    fetchNews () {\r\n        const { page } = this.state;\r\n        const start = page * NEWS_LIMIT;\r\n\r\n        this.setState({ loading: true });\r\n\r\n        fetch(`${ BACKEND_URL }/posts?_sort=PublishDate:DESC&_start=${ start }&_limit=${ NEWS_LIMIT }`)\r\n            .then(response => response.json())\r\n            .then(data => data.map((datum: NewsDto) => this.parseNewsCard(datum)))\r\n            .then(newsCards => this.handleResponse(newsCards));\r\n    }\r\n\r\n    renderNewsCards (newsCards: NewsCard[]) {\r\n        return newsCards.length ? (\r\n            <>\r\n                <div className=\"latest-news\">\r\n                    <div className=\"main-news\">\r\n                        <NewsCardComponent key={ newsCards[0].slug } newsCard={ newsCards[0] } type=\"main\"></NewsCardComponent>\r\n                    </div>\r\n                    <div className=\"fresh-news\">\r\n                        { newsCards.slice(1, 3).map(newsCard => (\r\n                            <NewsCardComponent key={ newsCard.slug } newsCard={ newsCard } type=\"fresh\"></NewsCardComponent>\r\n                        )) }\r\n                    </div>\r\n                </div>\r\n                <div className=\"other-news\">\r\n                    { newsCards.slice(3, newsCards.length).map(newsCard => (\r\n                        <NewsCardComponent key={ newsCard.slug } newsCard={ newsCard } type=\"other\"></NewsCardComponent>\r\n                    )) }\r\n                </div>\r\n            </>\r\n        ) : null;\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.fetchNews();\r\n    }\r\n\r\n    handleScroll = (event: any) => {\r\n        const { loading, end } = this.state;\r\n\r\n        if (event.target.scrollHeight - event.target.scrollTop < VISIBILITY_LIMIT) {\r\n            !loading && !end && this.fetchNews();\r\n        }\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            newsCards\r\n        } = this.state;\r\n\r\n        return (\r\n            <div onScroll={ this.handleScroll } className=\"news-list\">\r\n                <div className=\"news-cards\">\r\n                    { this.renderNewsCards(newsCards) }\r\n                </div>\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n  \r\nexport default NewsListComponent;","import React, { Component } from 'react';\r\n\r\nimport './ShowEpisodesComponent.css';\r\nimport { ShowEpisode } from '../interfaces';\r\n\r\n\r\ninterface ShowEpisodesProperties {\r\n    slug: string;\r\n}\r\n\r\nexport class ShowEpisodesComponent extends Component<ShowEpisodesProperties> {\r\n    state = {\r\n        showEpisodes: []\r\n    }\r\n\r\n    parseShowEpisode (datum: any): ShowEpisode {\r\n        return {\r\n            title: datum.name,\r\n            image: datum.pictures[\"1024wx1024h\"],\r\n            url: datum.url,\r\n            date: datum.created_time,\r\n            slug: datum.slug\r\n        }\r\n    }\r\n\r\n    parseShowEpisodes (playlistDto: any): ShowEpisode[] | null {\r\n        if (!playlistDto || !playlistDto.data || !playlistDto.data.length) {\r\n            return null;\r\n        }\r\n        \r\n        return playlistDto.data.map((datum: any) => this.parseShowEpisode(datum));\r\n    }\r\n\r\n    fetchPlaylist () {\r\n        const { slug } = this.props;\r\n        \r\n        fetch(`https://api.mixcloud.com/radioplato/playlists/${ slug }/cloudcasts/`)\r\n            .then(response => response.json())\r\n            .then(playlist => this.parseShowEpisodes(playlist)?.reverse().slice(0, 9))\r\n            .then(showEpisodes => this.setState({ showEpisodes }));\r\n    }\r\n\r\n    renderShowEpisode (episode: ShowEpisode) {\r\n        const key = `${ episode.slug }-${ new Date().getTime() }`;\r\n        const date = new Date(episode.date).toISOString().slice(0,10).split(\"-\").reverse().join(\".\");\r\n\r\n        return (\r\n            <a key={ key } href={ episode.url }>\r\n                <div className=\"episode-container\">\r\n                    <img className=\"episode-image\" src={ episode.image } alt={ episode.title }/>\r\n                    <div className=\"episode-information\">\r\n                        <h3>{ episode.title }</h3>\r\n                        <p>{ date }</p>\r\n                    </div>\r\n                </div>\r\n            </a>\r\n        );\r\n    }\r\n\r\n    renderShowEpisodes (episodes: ShowEpisode[]) {\r\n        return episodes ? (\r\n            <>\r\n                <h2>Latest Episodes</h2>\r\n                <div className=\"episode-cards\">\r\n                    { episodes.map(episode => this.renderShowEpisode(episode)) }\r\n                </div>\r\n            </>\r\n        ) : null;\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.fetchPlaylist();\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            showEpisodes\r\n        } = this.state;\r\n\r\n        return (\r\n            <div className=\"episode-list\">\r\n                { this.renderShowEpisodes(showEpisodes) }\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n  \r\nexport default ShowEpisodesComponent;","import React, { Component } from 'react';\r\n\r\nimport SocialLinksComponent from '../../shared/SocialLinksComponent/SocialLinksComponent';\r\nimport ShowEpisodesComponent from '../ShowEpisodesComponent/ShowEpisodesComponent';\r\n\r\nimport { BACKEND_URL } from '../../shared/constants';\r\nimport { ShowDto, Show } from '../interfaces';\r\n\r\nimport './ShowComponent.css';\r\n\r\n\r\ninterface ShowComponentProperties {\r\n    slug: string;\r\n}\r\n\r\ninterface ShowComponentState {\r\n    show: Show | null\r\n}\r\n\r\nexport class ShowComponent extends Component<ShowComponentProperties> {\r\n    state: ShowComponentState = {\r\n        show: null\r\n    }\r\n\r\n    parseShow(showDto: ShowDto): Show | null {\r\n        return showDto ? {\r\n            description: showDto.Description,\r\n            showCover: {\r\n                alternativeText: showDto.ShowCover.alternativeText,\r\n                caption: showDto.ShowCover.caption,\r\n                url: showDto.ShowCover.url\r\n            },\r\n            title: showDto.Title,\r\n            showLinks: {\r\n                mixcloud: showDto.ShowLink.mixcloud,\r\n                spotify: showDto.ShowLink.spotify,\r\n                itunes: showDto.ShowLink.itunes,\r\n                castbox: showDto.ShowLink.castbox,\r\n                facebook: showDto.ShowLink.facebook,\r\n                vk: showDto.ShowLink.vk,\r\n                instagram: showDto.ShowLink.instagram,\r\n                telegram: showDto.ShowLink.telegram, \r\n            }\r\n        } : null\r\n    }\r\n\r\n    fetchShow () {\r\n        const { slug } = this.props;\r\n\r\n        fetch(`${ BACKEND_URL }/shows?Slug=${ slug }`)\r\n            .then(response => response.json())\r\n            .then((data: ShowDto[]) => this.parseShow(data[0]))\r\n            .then(show => this.setState({ show }));\r\n    }\r\n    \r\n\r\n    componentDidMount () {\r\n        this.fetchShow();\r\n    }\r\n\r\n    render () {\r\n        const { show } = this.state;\r\n        const { slug } = this.props;\r\n        const imageSrc = show ? show.showCover.url : '';\r\n\r\n        return show ? (\r\n            <article className=\"show\">\r\n                <div className=\"show-description\">\r\n                    <div className=\"information\">\r\n                        <h1>{ show.title }</h1>\r\n                        <p>{ show.description }</p>\r\n                        <SocialLinksComponent socialLinks={ show.showLinks }/>\r\n                    </div>\r\n                    <div className=\"show-cover\">\r\n                        <img src={ imageSrc } loading='lazy' alt={ show.showCover.alternativeText }/>\r\n                    </div>\r\n                </div>\r\n                <ShowEpisodesComponent slug={ slug } />\r\n            </article>\r\n        ) : null;\r\n    }\r\n}\r\n  \r\nexport default ShowComponent;","import React, { Component } from 'react';\r\n\r\nimport ReactMarkdown from 'react-markdown'\r\n\r\nimport { BACKEND_URL } from '../../shared/constants';\r\nimport { NewsDto, News } from '../interfaces';\r\n\r\nimport './NewsComponent.css';\r\nimport moment from 'moment';\r\n\r\n\r\ninterface NewsComponentProperties {\r\n    slug: string;\r\n}\r\n\r\ninterface NewsComponentState {\r\n    news: News | null\r\n}\r\n\r\nconst DATE_FORMAT = 'DD.MM.YYYY';\r\n\r\nexport class NewsComponent extends Component<NewsComponentProperties> {\r\n    state: NewsComponentState = {\r\n        news: null\r\n    }\r\n\r\n    parseNews(newsDto: NewsDto): News | null {\r\n        return newsDto ? {\r\n            title: newsDto.Title,\r\n            content: newsDto.Content,\r\n            wordsBy: newsDto.WordsBy,\r\n            photosBy: newsDto.PhotosBy,\r\n            excerpt:  newsDto.Excerpt,\r\n            slug: newsDto.Slug,\r\n            publishDate: newsDto.PublishDate,\r\n            newsCover: {\r\n                alternativeText: newsDto.PostCover.alternativeText,\r\n                caption: newsDto.PostCover.caption,\r\n                url: newsDto.PostCover.url\r\n            }\r\n        } : null\r\n    }\r\n\r\n    fetchNews () {\r\n        const { slug } = this.props;\r\n\r\n        fetch(`${ BACKEND_URL }/posts?Slug=${ slug }`)\r\n            .then(response => response.json())\r\n            .then((data: NewsDto[]) => this.parseNews(data[0]))\r\n            .then(news => this.setState({ news }));\r\n    }\r\n    \r\n\r\n    componentDidMount () {\r\n        this.fetchNews();\r\n    }\r\n\r\n    render () {\r\n        const { news } = this.state;\r\n        const imageSrc = news ? news.newsCover.url : '';\r\n        const imageStyle = {\r\n            backgroundRepeat: 'no-repeat',\r\n            backgroundAttachment: 'fixed',\r\n            backgroundSize: 'cover',\r\n            backgroundImage: `url(${ imageSrc })`\r\n        }\r\n        const date = moment(news?.publishDate).format(DATE_FORMAT);\r\n        const wordsBy = news?.wordsBy ? `| Author: ${ news.wordsBy }` : '';\r\n        const photosBy = news?.photosBy ? `| Ph.: ${ news.photosBy }` : '';\r\n\r\n        return news ? (\r\n            <article className=\"news\">\r\n                <div className=\"news-description\" style={ imageStyle }>\r\n                    <div className=\"news-information\">\r\n                        <h1 className=\"news-title\">{ news.title }</h1>\r\n                        <p className=\"news-excerpt\">{ news.excerpt }</p>\r\n                        <p className=\"news-meta\">\r\n                            { `${ date } ${ wordsBy } ${ photosBy }` }\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"news-content-container\">\r\n                    <div className=\"news-content\">\r\n                        <ReactMarkdown source={ news.content } escapeHtml={ false } />\r\n                    </div>\r\n                </div>\r\n            </article>\r\n        ) : null;\r\n    }\r\n}\r\n  \r\nexport default NewsComponent;","import React, { Component } from 'react';\r\n\r\nimport { BACKEND_URL } from '../shared/constants';\r\nimport { AboutDto, About } from '../about/interfaces';\r\n\r\nimport './About.css';\r\n\r\ninterface AboutComponentState {\r\n    about: About | null\r\n}\r\n\r\nexport class AboutComponent extends Component {\r\n    state: AboutComponentState = {\r\n        about: null\r\n    }\r\n\r\n    parseAbout(aboutDto: AboutDto): About | null {\r\n        return aboutDto ? {\r\n            title: aboutDto.Title,\r\n            description: aboutDto.Content,\r\n            aboutCover: {\r\n                alternativeText: aboutDto.Image.alternativeText,\r\n                caption: aboutDto.Image.caption,\r\n                url: aboutDto.Image.url\r\n            }\r\n        } : null\r\n    }\r\n\r\n    fetchAbout () {\r\n        fetch(`${ BACKEND_URL }/about`)\r\n            .then(response => response.json())\r\n            .then((data: AboutDto) => this.parseAbout(data))\r\n            .then(about => this.setState({ about }));\r\n    }\r\n\r\n\r\n    componentDidMount () {\r\n        this.fetchAbout();\r\n    }\r\n\r\n    render () {\r\n        const { about } = this.state;\r\n        const imageSrc = about ? about.aboutCover.url : '';\r\n\r\n\r\n        return about ? (\r\n            <article className=\"about\">\r\n                <div className=\"information\">\r\n                    <h1>{ about.title }</h1>\r\n                    <p>{ about.description }</p>\r\n                </div>\r\n                <div className=\"image\">\r\n                    <img src={ imageSrc } loading='lazy' alt={ about.aboutCover.alternativeText }/>\r\n                </div>\r\n            </article>\r\n        ) : null;\r\n    }\r\n}\r\n\r\nexport default AboutComponent;","import React, { Component } from 'react';\r\n\r\nimport { BACKEND_URL } from '../shared/constants';\r\nimport { DonateDto, Donate } from '../donate/interfaces';\r\n\r\nimport './Donate.css';\r\n\r\ninterface DonateComponentState {\r\n    donate: Donate | null\r\n}\r\n\r\nexport class DonateComponent extends Component {\r\n    state: DonateComponentState = {\r\n        donate: null\r\n    }\r\n\r\n    parseDonate(donateDto: DonateDto): Donate | null {\r\n        return donateDto ? {\r\n            title: donateDto.Title,\r\n            description: donateDto.Content,\r\n            donateCover: {\r\n                alternativeText: donateDto.Image.alternativeText,\r\n                caption: donateDto.Image.caption,\r\n                url: donateDto.Image.url\r\n            }\r\n        } : null\r\n    }\r\n\r\n    fetchDonate () {\r\n        fetch(`${ BACKEND_URL }/donate`)\r\n            .then(response => response.json())\r\n            .then((data: DonateDto) => this.parseDonate(data))\r\n            .then(donate => this.setState({ donate }));\r\n    }\r\n\r\n\r\n    componentDidMount () {\r\n        this.fetchDonate();\r\n    }\r\n\r\n    render () {\r\n        const { donate } = this.state;\r\n        const imageSrc = donate ? donate.donateCover.url : '';\r\n\r\n\r\n        return donate ? (\r\n            <article className=\"about\">\r\n                <div className=\"information\">\r\n                    <h1>{ donate.title }</h1>\r\n                    <div className=\"text-content\">{ donate.description }</div>\r\n                </div>\r\n                <div className=\"image\">\r\n                    <img src={ imageSrc } loading='lazy' alt={ donate.donateCover.alternativeText }/>\r\n                </div>\r\n            </article>\r\n        ) : null;\r\n    }\r\n}\r\n\r\nexport default DonateComponent;","import React from 'react';\r\n\r\nimport {\r\n    Switch,\r\n    Route,\r\n    withRouter,\r\n} from 'react-router-dom';\r\n\r\nimport StartPageComponent from '../start-page/StartPageComponent';\r\nimport ShowListComponent from '../shows/ShowListComponent';\r\nimport NewsListComponent from '../news/NewsListComponent';\r\nimport ShowComponent from '../shows/ShowComponent/ShowComponent';\r\nimport NewsComponent from '../news/News/NewsComponent';\r\nimport AboutComponent from '../about/About';\r\nimport { ScrollableScheduleComponent } from '../shared/schedule/ScheduleComponent';\r\nimport DonateComponent from '../donate/Donate'\r\n\r\nimport './Content.css';\r\n\r\nconst SCHEDULE = '/schedule';\r\nconst SHOWS = '/shows';\r\nconst NEWS = '/news';\r\nconst ABOUT = '/about';\r\nconst DONATE = '/donate';\r\n\r\nfunction Content() {\r\n    return (\r\n        <Switch>\r\n            <Route exact path=\"/\" component={ StartPageComponent }/>\r\n            <Route exact path={ SCHEDULE } component={ ScrollableScheduleComponent }/>\r\n            <Route exact path={ SHOWS } component={ ShowListComponent }/>\r\n            <Route path={ `${ SHOWS }/:slug` } component={(routerProps: any) => <ShowComponent slug={routerProps.match.params.slug}/>}/>\r\n            <Route exact path={ NEWS } component={ NewsListComponent }/>\r\n            <Route path={ `${ NEWS }/:slug` } component={(routerProps: any) => <NewsComponent slug={routerProps.match.params.slug}/>}/>\r\n            <Route exact path={ ABOUT } component={ AboutComponent }/>\r\n            <Route exact path={ DONATE } component={ DonateComponent }/>\r\n        </Switch>\r\n    );\r\n}\r\n  \r\nexport default withRouter(Content);","import React from 'react'\r\n\r\nimport {\r\n    Switch,\r\n    Route,\r\n    withRouter,\r\n} from 'react-router-dom';\r\n\r\nimport MenuButton from '../menu/menu-button/MenuButton'\r\nimport PlayerComponent from '../shared/Player/PlayerComponent/PlayerComponent'\r\nimport Content from '../content/Content'\r\nimport { PlayerTypes } from '../shared/enums';\r\n\r\nimport './Main.css'\r\n\r\n\r\n\r\nfunction Main() {\r\n    return (\r\n        <main>\r\n            <MenuButton />\r\n            <Switch>\r\n                <Route exact path='/' render={\r\n                    props => <PlayerComponent { ...props } playerType={ PlayerTypes.Main }/>\r\n                }/>\r\n            </Switch>\r\n            <Content />\r\n        </main>\r\n    );\r\n}\r\n  \r\nexport default withRouter(Main);","import React, { Component } from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { playerService } from './PlayerService';\r\nimport { PlayerState } from './interfaces';\r\nimport { DEFAULT_PLAYER_STATE, STREAM_URL } from './constants';\r\n\r\nimport './Player.css';\r\n\r\nexport class Player extends Component {\r\n    state = DEFAULT_PLAYER_STATE;\r\n    subscription: Subscription | null = null;\r\n    \r\n    componentDidMount () {\r\n        this.subscribeOnPlayerStateChange();\r\n    }\r\n\r\n    subscribeOnPlayerStateChange () {\r\n        this.subscription = playerService.subscribeOnPlayerStateChanges(\r\n            (data: PlayerState) => this.setState(data)\r\n        );\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.subscription?.unsubscribe();\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            playing,\r\n            muted,\r\n            volume\r\n        } = this.state;\r\n\r\n        return (\r\n            <div className='audio'>\r\n                <ReactPlayer\r\n                    url={ STREAM_URL }\r\n                    playing={ playing }\r\n                    muted={ muted }\r\n                    volume={ volume }\r\n                    config={{\r\n                        file: {\r\n                            forceAudio: true\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Player;","import React from 'react';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n} from 'react-router-dom';\r\n\r\nimport Header from './components/header/Header';\r\nimport Main from './components/main/Main';\r\nimport Player from './components/shared/Player/Player';\r\n\r\nimport './App.css';\r\n\r\n\r\nfunction App() {\r\n    return (\r\n        <Router>\r\n            <Header />\r\n            <Main />\r\n            <Player />\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}