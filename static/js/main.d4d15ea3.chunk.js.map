{"version":3,"sources":["components/header/Header.tsx","components/menu/Menu.tsx","components/menu/menu-button/MenuButton.tsx","components/player/constants.ts","components/player/PlayerService.ts","components/player/PlayerControls/PlayerControls.tsx","components/player/MainPlayer/MainPlayer.tsx","components/content/Content.tsx","components/main/Main.tsx","components/player/Player.tsx","App.tsx","index.tsx"],"names":["Header","className","target","href","rel","icon","mixcloudIcon","width","color","facebookIcon","vkIcon","mailRu","instagramIcon","telegramIcon","googlePlay","bxSearch","PAGES","Menu","menuRef","ref","onClick","current","classList","toggle","crossIcon","height","map","title","key","buildMenuItem","MenuButton","React","createRef","DEFAULT_PLAYER_STATE","playing","muted","volume","playerService","state","subject","this","Subject","onNext","subscribe","data","isPlaying","next","volumeLevel","isMuted","PauseIcon","pauseIcon","PlayIcon","playIcon","FullVolumeIcon","bxsVolumeFull","MuteVolumeIcon","bxsVolumeMute","PlayerControls","useState","setPlayingMode","setVolumeMode","ReactSlider","thumbClassName","trackClassName","defaultValue","onChange","value","changeVolume","MainPlayer","trackName","loadTrackName","setInterval","bind","fetch","response","json","icestats","source","setState","Component","Content","Main","Player","subscription","subscribeOnPlayerStateChange","unsubscribe","url","config","file","forceAudio","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d4d15ea3.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Icon} from '@iconify/react';\r\nimport mixcloudIcon from '@iconify/icons-cib/mixcloud';\r\nimport facebookIcon from '@iconify/icons-cib/facebook';\r\nimport vkIcon from '@iconify/icons-cib/vk';\r\nimport mailRu from '@iconify/icons-cib/mail-ru';\r\nimport instagramIcon from '@iconify/icons-cib/instagram';\r\nimport telegramIcon from '@iconify/icons-cib/telegram';\r\nimport googlePlay from '@iconify/icons-cib/google-play';\r\nimport bxSearch from '@iconify/icons-bx/bx-search';\r\nimport './Header.css'\r\n\r\n\r\nfunction Header() {\r\n    return (\r\n      <header className='header header-container'>\r\n        <p className=\"logo-text\">RADIO PLATO</p>\r\n        <div className=\"social-container\">\r\n            <div className='social-icons'>\r\n                <a target=\"_blank\" href=\"https://www.mixcloud.com/radioplato/\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={mixcloudIcon} width='1.7em' color='white'/></a>\r\n                <a target=\"_blank\" href=\"https://www.facebook.com/radioplato.by/\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={facebookIcon} width='1.5em' color='white'/></a>\r\n                <a target=\"_blank\" href=\"https://vk.com/radioplato\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={vkIcon} width='1.5em' color='white'/></a>\r\n                <a target=\"_blank\" href=\"mailto:hey@radioplato.by\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={mailRu} width='1.5em' color='white'/></a>\r\n                <a target=\"_blank\" href=\"https://www.instagram.com/radio_plato/\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={instagramIcon} width='1.5em' color='white'/></a>\r\n                <a target=\"_blank\" href=\"https://t.me/radioplato\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={telegramIcon} width='1.5em' color='white'/></a>\r\n                <a target=\"_blank\" href=\"https://play.google.com/store/apps/details?id=com.radioplato\" rel=\"noopener noreferrer\"><Icon className='social-icon' icon={googlePlay} width='1.5em' color='white'/></a>\r\n            </div>\r\n            <p className=\"donate\">DONATE</p>\r\n            <div className='search-icon'>\r\n                <Icon icon={bxSearch} width='1.8em' color='white'/>\r\n            </div>\r\n        </div>\r\n      </header>\r\n    )\r\n  }\r\n  \r\n  export default Header","import React from 'react'\r\n\r\nimport { Icon } from '@iconify/react';\r\nimport crossIcon from '@iconify/icons-gridicons/cross';\r\n\r\nimport './Menu.css'\r\n\r\n\r\nconst PAGES = [\r\n    \"News\",\r\n    \"Shows\",\r\n    \"Schedule\",\r\n    \"About\"\r\n];\r\n\r\ninterface MenuParameters {\r\n    menuRef: React.RefObject<HTMLDivElement>\r\n}\r\n\r\nfunction Menu({ menuRef }: MenuParameters) {\r\n\r\n    const buildMenuItem = (title: string) => {\r\n        return <li className=\"menu-item\" key={ title }>{ title }</li>\r\n    }\r\n\r\n    const toggleMenu = () => {\r\n        menuRef.current?.classList.toggle('menu-open');\r\n    }\r\n\r\n    return (\r\n        <nav ref={ menuRef }>\r\n            <div className=\"close-button-container\">\r\n                <button \r\n                    className=\"close-button\"\r\n                    onClick={ toggleMenu }\r\n                >\r\n                    <Icon icon={ crossIcon } width={ 48 } height={ 48 }/>    \r\n                </button>\r\n            </div>\r\n            <div className=\"menu-items-container\">\r\n                <ul className=\"menu-items\">\r\n                    { PAGES.map(title => buildMenuItem(title)) }\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    );\r\n  }\r\n  \r\n  export default Menu","import React from 'react'\r\n\r\nimport Menu from '../Menu';\r\n\r\nimport './MenuButton.css'\r\n\r\n\r\nconst MENU = \"menu\";\r\n\r\nfunction MenuButton() {\r\n    const menuRef = React.createRef<HTMLDivElement>()\r\n    \r\n    const toggleMenu = () => {\r\n        menuRef.current?.classList.toggle('menu-open');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Menu menuRef={ menuRef } />\r\n            <div className=\"menuButton\" onClick={ toggleMenu }>\r\n                <p className=\"label\">{ MENU }</p>\r\n            </div>\r\n        </>\r\n    );\r\n  }\r\n  \r\n  export default MenuButton","import { PlayerState } from \"./interfaces\";\r\n\r\nexport const STREAM_URL = \"https://radioplato.radioca.st/stream\";\r\nexport const DATA_URL = \"https://radioplato.radioca.st/status-json.xsl\";\r\n\r\nexport const DATA_REQUEST_INTERVAL = 15000;\r\n\r\nexport const ONAIR = \"onair\";\r\n\r\nexport const DEFAULT_PLAYER_STATE: PlayerState = {\r\n    playing: false,\r\n    muted: false,\r\n    volume: 1\r\n};\r\n","import { Subject } from 'rxjs'\r\n\r\nimport { PlayerState } from \"./interfaces\";\r\nimport { DEFAULT_PLAYER_STATE } from './constants';\r\n\r\nclass PlayerService {\r\n    private state: PlayerState;\r\n    private subject: Subject<PlayerState>;\r\n\r\n    constructor (state: PlayerState) {\r\n        this.state = state;\r\n        this.subject = new Subject();\r\n    }\r\n\r\n    set playing (isPlaying: boolean) {\r\n        this.state.playing = isPlaying;\r\n        this.subject.next(this.state);\r\n    }\r\n\r\n    get playing () {\r\n        return this.state.playing;\r\n    }\r\n\r\n    set volume (volumeLevel: number) {\r\n        this.state.volume = volumeLevel;\r\n        this.subject.next(this.state);\r\n    }\r\n\r\n    set muted (isMuted: boolean) {\r\n        this.state.muted = isMuted;\r\n        this.subject.next(this.state);\r\n    }\r\n\r\n    get muted () {\r\n        return this.state.muted;\r\n    }\r\n\r\n    subscribe (onNext: Function) {\r\n        return this.subject.subscribe(data => onNext(data));\r\n    }\r\n}\r\n\r\nconst playerService = new PlayerService(DEFAULT_PLAYER_STATE)\r\n\r\nexport { playerService };","import React, { useState } from 'react';\r\n\r\nimport ReactSlider from 'react-slider';\r\nimport { Icon } from '@iconify/react';\r\nimport playIcon from '@iconify/icons-el/play';\r\nimport pauseIcon from '@iconify/icons-el/pause';\r\nimport bxsVolumeFull from '@iconify/icons-bx/bxs-volume-full';\r\nimport bxsVolumeMute from '@iconify/icons-bx/bxs-volume-mute';\r\n\r\nimport { playerService } from '../PlayerService';\r\n\r\nimport './PlayerControls.css';\r\n\r\nconst PauseIcon = <Icon icon={ pauseIcon } width={ 35 } height={ 35 }/>;\r\nconst PlayIcon = <Icon icon={ playIcon } width={ 35 } height={ 35 }/>;\r\nconst FullVolumeIcon = <Icon icon={ bxsVolumeFull } width={ 16 } height={ 16 } color=\"#ffffff\"/>;\r\nconst MuteVolumeIcon = <Icon icon={ bxsVolumeMute } width={ 16 } height={ 16 } color=\"#ffffff\"/>;\r\n\r\nfunction PlayerControls() {\r\n    const [ playing, setPlayingMode ] = useState(playerService.playing);\r\n    const [ muted, setVolumeMode ] = useState(playerService.muted);\r\n\r\n    const togglePlayingMode = () => {\r\n        playerService.playing = !playerService.playing;\r\n        setPlayingMode(playerService.playing);\r\n    }\r\n\r\n    const toggleVolumeMode = () => {\r\n        playerService.muted = !playerService.muted;\r\n        setVolumeMode(playerService.muted);\r\n    }\r\n\r\n    const changeVolume = (value: any) => {\r\n        playerService.volume = value / 100;\r\n    }\r\n\r\n    return (\r\n        <div className=\"controls-container\">\r\n            <button \r\n                className=\"control-button\"\r\n                onClick={ togglePlayingMode }\r\n            >\r\n                { playing ? PauseIcon : PlayIcon }\r\n            </button>\r\n            <div className=\"volume-controls\">\r\n                <button \r\n                    className=\"volume-mode-button\"\r\n                    onClick={ toggleVolumeMode }\r\n                >\r\n                    { muted ? FullVolumeIcon : MuteVolumeIcon }\r\n                </button>\r\n                <ReactSlider\r\n                    className=\"horizontal-slider\"\r\n                    thumbClassName=\"thumb\"\r\n                    trackClassName=\"track\"\r\n                    defaultValue={ 100 }\r\n                    onChange={ value => changeVolume(value)}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PlayerControls;","import React, { Component } from 'react';\r\n\r\nimport PlayerControls from '../PlayerControls/PlayerControls';\r\nimport { DATA_URL, DATA_REQUEST_INTERVAL, ONAIR } from '../constants';\r\n\r\nimport './MainPlayer.css';\r\n\r\nexport class MainPlayer extends Component {\r\n    state = {\r\n        trackName: \"\"\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.loadTrackName()\r\n        setInterval(this.loadTrackName.bind(this), DATA_REQUEST_INTERVAL);\r\n    }\r\n\r\n    async loadTrackName () {\r\n        const response = await fetch(DATA_URL);\r\n        const data = await response.json();\r\n        const trackName = data.icestats.source[0].title;\r\n\r\n        this.setState({\r\n            trackName\r\n        })\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            trackName\r\n        } = this.state;\r\n\r\n        return (\r\n            <div className=\"main-player\">\r\n                <PlayerControls />\r\n                <p className=\"onair\">{ ONAIR }</p>\r\n                <p className=\"track-title\">{ trackName }</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MainPlayer;\r\n","import React from 'react'\r\n\r\nimport './Content.css'\r\n\r\n\r\nfunction Content() {\r\n    return (\r\n        <section></section>\r\n    )\r\n  }\r\n  \r\n  export default Content","import React from 'react'\r\n\r\nimport MenuButton from '../menu/menu-button/MenuButton'\r\nimport MainPlayer from '../player/MainPlayer/MainPlayer'\r\nimport Content from '../content/Content'\r\n\r\nimport './Main.css'\r\n\r\n\r\nfunction Main() {\r\n    return (\r\n        <main>\r\n            <MenuButton />\r\n            <MainPlayer />\r\n            <Content />\r\n        </main>\r\n    )\r\n  }\r\n  \r\n  export default Main","import React, { Component } from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { playerService } from './PlayerService';\r\nimport { PlayerState } from './interfaces';\r\nimport { DEFAULT_PLAYER_STATE, STREAM_URL } from './constants';\r\n\r\nimport './Player.css';\r\n\r\nexport class Player extends Component {\r\n    state = DEFAULT_PLAYER_STATE;\r\n    subscription: Subscription | null = null;\r\n    \r\n    componentDidMount () {\r\n        this.subscribeOnPlayerStateChange();\r\n    }\r\n\r\n    subscribeOnPlayerStateChange () {\r\n        this.subscription = playerService.subscribe((data: PlayerState) => this.setState(data));\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.subscription?.unsubscribe();\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            playing,\r\n            muted,\r\n            volume\r\n        } = this.state;\r\n\r\n        return (\r\n            <div className=\"audio\">\r\n                <ReactPlayer\r\n                    url={ STREAM_URL }\r\n                    playing={ playing }\r\n                    muted={ muted }\r\n                    volume={ volume }\r\n                    config={{\r\n                        file: {\r\n                            forceAudio: true\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Player;","import React from 'react';\r\nimport Header from './components/header/Header';\r\nimport Main from './components/main/Main';\r\nimport Player from './components/player/Player';\r\n\r\nimport './App.css';\r\n\r\nfunction App() {\r\n    return (\r\n        <>\r\n            <Header />\r\n            <Main />\r\n            <Player />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}